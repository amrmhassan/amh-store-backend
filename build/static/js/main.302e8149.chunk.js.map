{"version":3,"sources":["constants/urls.js","actions/userActions.js","constants/userConstants.js","actions/productActions.js","constants/productConstants.js","components/global/SearchBox.jsx","components/global/Header.jsx","components/global/Rating.jsx","components/Product.jsx","components/global/Loader/Loading.jsx","components/global/Message.jsx","components/global/Paginate.jsx","components/ProductCarousel.jsx","views/Home.jsx","actions/reviewsActions.js","constants/reviewsConstants.js","views/Product.jsx","actions/cartActions.js","constants/cartConstants.js","views/Cart.jsx","components/global/FormContainer.jsx","views/LogIn.jsx","views/Register.jsx","actions/orderActions.js","constants/orderConstants.js","views/Profile.jsx","components/CheckoutSteps.jsx","views/Shipping.jsx","views/PaymentMethod.jsx","views/PlaceOrder.jsx","views/UsersList.jsx","views/ProductsList.jsx","views/OrdersList.jsx","views/UserEdit.jsx","views/ProductEdit.jsx","views/Orders.jsx","components/global/Footer.jsx","App.jsx","store.js","reducers/productsReducers.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","reducers/reviewsReducers.js","index.js"],"names":["host","usersUrl","productsUrl","usersUrlLogin","usersUrlRegister","usersUrlMe","usersUrlUpdateMe","ordersUrl","myOrdersUrl","uploadUrl","reviewsUrl","getUsersListAction","pageNumber","dispatch","getState","a","currentUserToken","loginUser","userToken","tokenToSend","type","config","headers","Authorization","axios","get","urls","data","payload","response","message","listProducts","keyword","productList","productDetailsAction","id","setKeyWordAction","SearchBox","history","useDispatch","useState","setKeyword","Form","onSubmit","e","preventDefault","trim","push","inline","Control","name","onChange","target","value","placeholder","className","Button","variant","NavBar","userInfo","useSelector","state","Navbar","bg","expand","collapseOnSelect","Container","href","Brand","Toggle","aria-controls","Collapse","render","Nav","to","Link","NavDropdown","title","Item","onClick","localStorage","removeItem","window","location","role","Rating","rate","color","rating","fullStars","Math","floor","half","round","stars","i","createStars","map","star","index","key","style","defaultProps","Product","product","Card","_id","Img","src","image","Body","Title","as","Text","position","right","numReviews","price","Loading","class","version","xmlns","in","result","stdDeviation","mode","values","Message","children","Alert","Paginate","pages","page","isAdmin","link","Pagination","Array","keys","x","active","ProductCarousal","topProducts","s","loading","products","err","useEffect","Carousel","pause","Image","alt","fluid","Caption","Home","match","params","Helmet","ProductCarousel","Row","length","Col","sm","md","lg","xl","getProductReviewsAction","productId","quantity","setQuantity","setRating","review","setReview","showForm","setShowForm","productDetails","productCreateReview","loadingCreateReview","errCreateReview","successCreateReview","success","getReviewsForProduct","loadingGetReviews","errGetReviews","reviews","user","fontSize","ListGroup","description","countInStock","cursor","disabled","createdAt","substring","post","productCreateReviewAction","Number","Group","controlId","Label","row","addToCart","setItem","JSON","stringify","cart","cartItems","Cart","search","split","removeFromCartHandler","removeFromCart","fontWeight","item","rounded","reduce","acc","toFixed","FormContainer","xs","LogIn","email","password","userLoginData","setUserLoginData","redirect","handleUserDataChange","token","login","required","minLength","Register","passwordConfirm","userRegisterData","setUserRegisterData","registerUser","console","log","register","getOrderDetailsAction","Profile","userDetails","loggedInUser","userUpdateProfile","currentUserDetails","setCurrentUserDetails","userUpdatedData","put","CheckoutSteps","step1","step2","step3","step4","display","flexWrap","width","Shipping","shippingAddress","address","city","postalCode","country","setAddress","PaymentMethod","paymentMethod","setPaymentMethod","Check","label","vale","checked","PlaceOrder","createOrder","order","addDec","num","itemsPrice","shippingPrice","taxPrice","totalPrice","createOrderAction","orderItems","UsersList","usersList","users","deleteUser","deletedUser","loadingDelete","errDelete","deleteUserHandler","confirm","delete","deleteUserAction","Table","striped","bordered","hover","responsive","textTransform","ProductsList","createProduct","loadingCreate","createdProduct","successCreate","errCreate","deleteProduct","successDelete","deletedProduct","sampleProduct","brand","category","deleteProductHandler","deleteProductAction","setTimeout","OrdersList","getAllOrders","orders","getAllOrdersAction","isPaid","isDelivered","UserEdit","userId","getUser","updateUser","updateLoading","updateErr","newUserData","patch","ProductEdit","updateProduct","currentProductDetails","setCurrentProductDetails","uploading","setUploading","handleProductDataChange","uploadFileHandler","file","files","formData","FormData","append","path","newProductData","File","custom","Orders","getOrderDetails","queryString","qString","parse","emptyCart","deliveredAt","paidAt","deliverOrderAction","Footer","App","props","component","UserList","Order","exact","reducer","combineReducers","action","existItem","find","filter","myOrders","deliverOrder","cartItemsFromStorage","getItem","userInfoFromStorage","userTokenFromStorage","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.302e8149.chunk.js","sourcesContent":["const host = `https://amh-store.herokuapp.com`;\r\n\r\nexport const usersUrl = `${host}/api/v1/users`;\r\nexport const productsUrl = `${host}/api/v1/products`;\r\nexport const usersUrlLogin = `${host}/api/v1/users/login`;\r\nexport const usersUrlRegister = `${host}/api/v1/users/signup`;\r\nexport const usersUrlMe = `${host}/api/v1/users/me`;\r\nexport const usersUrlUpdateMe = `${host}/api/v1/users/updateMe`;\r\nexport const ordersUrl = `${host}/api/v1/orders`;\r\nexport const myOrdersUrl = `${host}/api/v1/orders/myOrders`;\r\nexport const uploadUrl = `${host}/api/v1/upload`;\r\nexport const reviewsUrl = `${host}/api/v1/reviews`;\r\n","import * as c from '../constants/userConstants';\r\nimport axios from 'axios';\r\nimport * as urls from '../constants/urls.js';\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n  try {\r\n    //? requesting login\r\n    dispatch({\r\n      type: c.USER_LOGIN_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n    const {\r\n      data: { user, token },\r\n    } = await axios.post(urls.usersUrlLogin, { email, password }, config);\r\n    //? login success\r\n    dispatch({\r\n      type: c.USER_LOGIN_SUCCESS,\r\n      payload: { user, token },\r\n    });\r\n\r\n    //blue setting the user info to the local storage\r\n    localStorage.setItem('userInfo', JSON.stringify(user));\r\n    localStorage.setItem('userToken', JSON.stringify(token));\r\n  } catch (err) {\r\n    //? login failed\r\n    dispatch({\r\n      type: c.USER_LOGIN_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  localStorage.removeItem('userInfo');\r\n  localStorage.removeItem('userToken');\r\n  dispatch({\r\n    type: c.USER_LOGOUT,\r\n  });\r\n};\r\n\r\nexport const register = (name, email, password, passwordConfirm) => async (\r\n  dispatch\r\n) => {\r\n  try {\r\n    dispatch({\r\n      type: c.USER_REGISTER_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      'Content-Type': 'application/json',\r\n    };\r\n    const {\r\n      data: { user, token },\r\n    } = await axios.post(\r\n      urls.usersUrlRegister,\r\n      { name, email, password, passwordConfirm },\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: c.USER_REGISTER_SUCCESS,\r\n      payload: {\r\n        user,\r\n        token,\r\n      },\r\n    });\r\n\r\n    dispatch({\r\n      type: c.USER_LOGIN_SUCCESS,\r\n      payload: {\r\n        user,\r\n        token,\r\n      },\r\n    });\r\n\r\n    //blue setting the user info to the local storage\r\n    localStorage.setItem('userInfo', JSON.stringify(user));\r\n    localStorage.setItem('userToken', JSON.stringify(token));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.USER_REGISTER_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const userUpdateProfileAction = (userUpdatedData) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  try {\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n\r\n    dispatch({\r\n      type: c.USER_UPDATE_PROFILE_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const {\r\n      data: { data },\r\n    } = await axios.put(urls.usersUrlUpdateMe, userUpdatedData, config);\r\n\r\n    dispatch({\r\n      type: c.USER_UPDATE_PROFILE_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.USER_UPDATE_PROFILE_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const userDetailsAction = () => async (dispatch, getState) => {\r\n  try {\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n\r\n    dispatch({\r\n      type: c.USER_DETAILS_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const {\r\n      data: { user },\r\n    } = await axios.get(urls.usersUrlMe, config);\r\n\r\n    dispatch({\r\n      type: c.USER_DETAILS_SUCCESS,\r\n      payload: user,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.USER_DETAILS_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUsersListAction = (pageNumber) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  try {\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n\r\n    dispatch({\r\n      type: c.USERS_LIST_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const { data } = await axios.get(\r\n      `${urls.usersUrl}/?pageNumber=${pageNumber}`,\r\n      config\r\n    );\r\n    dispatch({\r\n      type: c.USERS_LIST_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.USERS_LIST_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteUserAction = (id) => async (dispatch, getState) => {\r\n  try {\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n\r\n    dispatch({\r\n      type: c.USERS_DELETE_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const {\r\n      data: { data },\r\n    } = await axios.delete(`${urls.usersUrl}/${id}`, config);\r\n    dispatch({\r\n      type: c.USERS_DELETE_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.USERS_DELETE_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUsersByIdAction = (id, newUserData) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  try {\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n\r\n    dispatch({\r\n      type: c.UPDATE_USER_BY_ID_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const {\r\n      data: { data },\r\n    } = await axios.patch(`${urls.usersUrl}/${id}`, newUserData, config);\r\n    dispatch({\r\n      type: c.UPDATE_USER_BY_ID_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.UPDATE_USER_BY_ID_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUsersByIdAction = (id) => async (dispatch, getState) => {\r\n  try {\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n\r\n    dispatch({\r\n      type: c.GET_USER_BY_ID_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const {\r\n      data: { data },\r\n    } = await axios.get(`${urls.usersUrl}/${id}`, config);\r\n    dispatch({\r\n      type: c.GET_USER_BY_ID_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.GET_USER_BY_ID_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n","export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST';\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\r\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL';\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST';\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS';\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL';\r\n\r\nexport const UPDATE_USER_BY_ID_REQUEST = 'UPDATE_USER_BY_ID_REQUEST';\r\nexport const UPDATE_USER_BY_ID_SUCCESS = 'UPDATE_USER_BY_ID_SUCCESS';\r\nexport const UPDATE_USER_BY_ID_FAIL = 'UPDATE_USER_BY_ID_FAIL';\r\n\r\nexport const GET_USER_BY_ID_REQUEST = 'GET_USER_BY_ID_REQUEST';\r\nexport const GET_USER_BY_ID_SUCCESS = 'GET_USER_BY_ID_SUCCESS';\r\nexport const GET_USER_BY_ID_FAIL = 'GET_USER_BY_ID_FAIL';\r\n\r\nexport const USER_UPDATE_PROFILE_REQUEST = 'USER_UPDATE_PROFILE_REQUEST';\r\nexport const USER_UPDATE_PROFILE_SUCCESS = 'USER_UPDATE_PROFILE_SUCCESS';\r\nexport const USER_UPDATE_PROFILE_FAIL = 'USER_UPDATE_PROFILE_FAIL';\r\nexport const USER_RESET_PROFILE = 'USER_RESET_PROFILE';\r\n\r\nexport const USERS_LIST_REQUEST = 'USERS_LIST_REQUEST';\r\nexport const USERS_LIST_SUCCESS = 'USERS_LIST_SUCCESS';\r\nexport const USERS_LIST_FAIL = 'USERS_LIST_FAIL';\r\n\r\nexport const USERS_DELETE_REQUEST = 'USERS_DELETE_REQUEST';\r\nexport const USERS_DELETE_SUCCESS = 'USERS_DELETE_SUCCESS';\r\nexport const USERS_DELETE_FAIL = 'USERS_DELETE_FAIL';\r\n","import * as c from '../constants/productConstants';\r\nimport axios from 'axios';\r\nimport * as urls from '../constants/urls.js';\r\n\r\nexport const listProducts = (pageNumber = '') => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: c.PRODUCT_LIST_REQUEST });\r\n    const keyword = getState().productList.keyword || '';\r\n\r\n    const { data } = await axios.get(\r\n      `${urls.productsUrl}/?keyword=${keyword}&pageNumber=${pageNumber}`\r\n    );\r\n\r\n    dispatch({\r\n      type: c.PRODUCT_LIST_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.PRODUCT_LIST_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const productDetailsAction = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: c.PRODUCT_DETAILS_REQUEST,\r\n    });\r\n\r\n    const { data } = await axios.get(`${urls.productsUrl}/${id}`);\r\n    dispatch({\r\n      type: c.PRODUCT_DETAILS_SUCCESS,\r\n      payload: data.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.PRODUCT_DETAILS_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\nexport const deleteProductAction = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: c.DELETE_PRODUCT_REQUEST,\r\n    });\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const { data } = await axios.delete(`${urls.productsUrl}/${id}`, config);\r\n    dispatch({\r\n      type: c.DELETE_PRODUCT_SUCCESS,\r\n      payload: data.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.DELETE_PRODUCT_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\nexport const createProductAction = (product) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: c.CREATE_PRODUCT_REQUEST,\r\n    });\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const { data } = await axios.post(`${urls.productsUrl}`, product, config);\r\n    dispatch({\r\n      type: c.CREATE_PRODUCT_SUCCESS,\r\n      payload: data.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.CREATE_PRODUCT_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProductByIdAction = (id, newProductData) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  try {\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n\r\n    dispatch({\r\n      type: c.UPDATE_PRODUCT_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const {\r\n      data: { data },\r\n    } = await axios.patch(`${urls.productsUrl}/${id}`, newProductData, config);\r\n    dispatch({\r\n      type: c.UPDATE_PRODUCT_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.UPDATE_PRODUCT_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const setKeyWordAction = (keyword) => (dispatch) => {\r\n  dispatch({\r\n    type: c.SET_KEYWORD,\r\n    payload: keyword,\r\n  });\r\n};\r\n\r\nexport const getTopProductsAction = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: c.TOP_PRODUCTS_REQUEST,\r\n    });\r\n\r\n    const {\r\n      data: { data },\r\n    } = await axios.get(`${urls.productsUrl}/getTopProducts`);\r\n    dispatch({\r\n      type: c.TOP_PRODUCTS_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.TOP_PRODUCTS_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';\r\n\r\nexport const DELETE_PRODUCT_REQUEST = 'DELETE_PRODUCT_REQUEST';\r\nexport const DELETE_PRODUCT_SUCCESS = 'DELETE_PRODUCT_SUCCESS';\r\nexport const DELETE_PRODUCT_FAIL = 'DELETE_PRODUCT_FAIL';\r\nexport const DELETE_PRODUCT_RESET = 'DELETE_PRODUCT_RESET';\r\n\r\nexport const CREATE_PRODUCT_REQUEST = 'CREATE_PRODUCT_REQUEST';\r\nexport const CREATE_PRODUCT_SUCCESS = 'CREATE_PRODUCT_SUCCESS';\r\nexport const CREATE_PRODUCT_FAIL = 'CREATE_PRODUCT_FAIL';\r\nexport const CREATE_PRODUCT_RESET = 'CREATE_PRODUCT_REST';\r\n\r\nexport const UPDATE_PRODUCT_REQUEST = 'UPDATE_PRODUCT_REQUEST';\r\nexport const UPDATE_PRODUCT_SUCCESS = 'UPDATE_PRODUCT_SUCCESS';\r\nexport const UPDATE_PRODUCT_FAIL = 'UPDATE_PRODUCT_FAIL';\r\nexport const UPDATE_PRODUCT_RESET = 'UPDATE_PRODUCT_REST';\r\n\r\nexport const SET_KEYWORD = 'SET_KEYWORD';\r\n\r\nexport const TOP_PRODUCTS_REQUEST = 'TOP_PRODUCTS_REQUEST';\r\nexport const TOP_PRODUCTS_SUCCESS = 'TOP_PRODUCTS_SUCCESS';\r\nexport const TOP_PRODUCTS_FAIL = 'TOP_PRODUCTS_FAIL';\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { setKeyWordAction } from '../../actions/productActions';\r\n\r\nconst SearchBox = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [keyword, setKeyword] = useState('');\r\n\r\n  const keywordSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (keyword.trim()) {\r\n      dispatch(setKeyWordAction(keyword));\r\n      history.push(`/search/${keyword}`);\r\n    } else {\r\n      dispatch(setKeyWordAction(''));\r\n      history.push('/');\r\n    }\r\n  };\r\n  return (\r\n    <Form onSubmit={keywordSubmitHandler} inline>\r\n      <Form.Control\r\n        type='text'\r\n        name='q'\r\n        onChange={(e) => setKeyword(e.target.value)}\r\n        placeholder='Search products...'\r\n        className='mr-sm-2 ml-sm-5'\r\n      ></Form.Control>\r\n      <Button type='submit' variant='outline-success' className='p-2'>\r\n        Search\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { Container, Navbar, Nav, NavDropdown } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { logout } from '../../actions/userActions';\r\nimport SearchBox from './SearchBox.jsx';\r\n\r\nconst NavBar = ({ history }) => {\r\n  const loginUser = useSelector((state) => state.loginUser);\r\n  const { userInfo } = loginUser;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const logoutHandler = () => {\r\n    dispatch(logout());\r\n    window.location.href = '/';\r\n  };\r\n  return (\r\n    <Navbar bg='dark' variant='dark' expand='lg' collapseOnSelect>\r\n      <Container>\r\n        <a href='/'>\r\n          <Navbar.Brand>AMH Shop</Navbar.Brand>\r\n        </a>\r\n        <Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n        <Navbar.Collapse id='basic-navbar-nav'>\r\n          <Route render={({ history }) => <SearchBox history={history} />} />\r\n          <Nav className='ml-auto'>\r\n            <LinkContainer to='/cart'>\r\n              <Nav.Link>\r\n                <span className='fas fa-shopping-cart'></span> Cart\r\n              </Nav.Link>\r\n            </LinkContainer>\r\n            {!userInfo ? (\r\n              <LinkContainer to='/login'>\r\n                <Nav.Link>\r\n                  <span className='fas fa-user'></span> Log in\r\n                </Nav.Link>\r\n              </LinkContainer>\r\n            ) : (\r\n              <NavDropdown title={userInfo.name} id='username'>\r\n                <LinkContainer to='/profile'>\r\n                  <NavDropdown.Item>\r\n                    <span className='far fa-user'></span> Profile\r\n                  </NavDropdown.Item>\r\n                </LinkContainer>\r\n                <NavDropdown.Item onClick={logoutHandler}>\r\n                  <span className='far fa-door-closed'></span>Logout\r\n                </NavDropdown.Item>\r\n              </NavDropdown>\r\n            )}\r\n\r\n            {userInfo && userInfo.role === 'admin' && (\r\n              <NavDropdown title='admin' id='admin-menu'>\r\n                <LinkContainer to='/admin/users_list/1'>\r\n                  <NavDropdown.Item>Users</NavDropdown.Item>\r\n                </LinkContainer>\r\n                <LinkContainer to='/admin/products_list/1'>\r\n                  <NavDropdown.Item>Products</NavDropdown.Item>\r\n                </LinkContainer>\r\n                <LinkContainer to='/admin/orders_list/1'>\r\n                  <NavDropdown.Item>Orders</NavDropdown.Item>\r\n                </LinkContainer>\r\n              </NavDropdown>\r\n            )}\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Rating = ({ rate, color }) => {\r\n  const createStars = () => {\r\n    const rating = rate;\r\n    const fullStars = Math.floor(rating);\r\n    const half = Math.round(rating % 1);\r\n    let stars = [];\r\n    for (let i = 0; i < fullStars; i++) {\r\n      stars.push(1);\r\n    }\r\n\r\n    if (half) {\r\n      stars.push(0.5);\r\n    }\r\n    for (let i = 0; i < 5; i++) {\r\n      if (!stars[i]) {\r\n        stars[i] = 0;\r\n      }\r\n    }\r\n    return stars;\r\n  };\r\n  return (\r\n    <>\r\n      {createStars().map((star, index) => (\r\n        <span\r\n          key={index}\r\n          className={`${\r\n            star === 1\r\n              ? 'fas fa-star'\r\n              : star === 0.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far fa-star'\r\n          } star`}\r\n          style={{ color }}\r\n        ></span>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nRating.defaultProps = {\r\n  color: 'gold',\r\n};\r\n\r\nRating.propTypes = {\r\n  rate: PropTypes.number.isRequired,\r\n  color: PropTypes.string,\r\n};\r\nexport default Rating;\r\n","import React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport Rating from './global/Rating.jsx';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Product = ({ product }) => {\r\n  //\r\n\r\n  return (\r\n    <Card className='my-3 p-3 rounded product'>\r\n      <Link to={`/product/${product._id}`}>\r\n        <Card.Img src={product.image} variant='top' />\r\n      </Link>\r\n\r\n      <Card.Body>\r\n        <Link to={`/product/${product._id}`}>\r\n          <Card.Title as='div'>\r\n            <strong>{product.name}</strong>\r\n          </Card.Title>\r\n        </Link>\r\n\r\n        <Card.Text as='div'>\r\n          <div className='my-3' style={{ position: 'relative' }}>\r\n            <Rating rate={product.rating} />\r\n            <span\r\n              className='ml-auto'\r\n              style={{ position: 'absolute', right: '0' }}\r\n            >\r\n              {product.numReviews} reviews\r\n            </span>\r\n          </div>\r\n        </Card.Text>\r\n\r\n        <Card.Text as='h3'>${product.price}</Card.Text>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport './index.css';\r\nconst Loading = () => {\r\n  return (\r\n    <>\r\n      <div class='cssload-dots'>\r\n        <div class='cssload-dot'></div>\r\n        <div class='cssload-dot'></div>\r\n        <div class='cssload-dot'></div>\r\n        <div class='cssload-dot'></div>\r\n        <div class='cssload-dot'></div>\r\n      </div>\r\n\r\n      <svg version='1.1' xmlns='http://www.w3.org/2000/svg'>\r\n        <defs>\r\n          <filter id='goo'>\r\n            <feGaussianBlur\r\n              in='SourceGraphic'\r\n              result='blur'\r\n              stdDeviation='12'\r\n            ></feGaussianBlur>\r\n            <feColorMatrix\r\n              in='blur'\r\n              mode='matrix'\r\n              values='1 0 0 0 0\t0 1 0 0 0\t0 0 1 0 0\t0 0 0 18 -7'\r\n              result='goo'\r\n            ></feColorMatrix>\r\n            {/* <!--<feBlend in2=\"goo\" in=\"SourceGraphic\" result=\"mix\" ></feBlend>--> */}\r\n          </filter>\r\n        </defs>\r\n      </svg>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst Message = ({ variant, children }) => {\r\n  return <Alert variant={variant}>{children}</Alert>;\r\n};\r\n\r\nMessage.defaultProps = {\r\n  variant: 'info',\r\n};\r\nexport default Message;\r\n","import React from 'react';\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst Paginate = ({\r\n  pages,\r\n  page,\r\n  isAdmin = false,\r\n  keyword = '',\r\n  link = 'products_list',\r\n}) => {\r\n  return (\r\n    pages > 1 && (\r\n      <Pagination>\r\n        {[...Array(pages).keys()].map((x) => (\r\n          <LinkContainer\r\n            key={x + 1}\r\n            to={\r\n              !isAdmin\r\n                ? keyword\r\n                  ? `/search/${keyword}/page/${x + 1}`\r\n                  : `/page/${x + 1}`\r\n                : `/admin/${link}/${x + 1}`\r\n            }\r\n          >\r\n            <Pagination.Item active={x + 1 === page}>{x + 1}</Pagination.Item>\r\n          </LinkContainer>\r\n        ))}\r\n      </Pagination>\r\n    )\r\n  );\r\n};\r\n\r\nexport default Paginate;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Carousel, Image } from 'react-bootstrap';\r\nimport Loader from './global/Loader/Loading.jsx';\r\nimport Message from './global/Message.jsx';\r\nimport { getTopProductsAction } from '../actions/productActions';\r\n\r\nconst ProductCarousal = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const topProducts = useSelector((s) => s.topProducts);\r\n  const { loading = true, products = [], err = '' } = topProducts;\r\n\r\n  useEffect(() => {\r\n    dispatch(getTopProductsAction());\r\n  }, [dispatch]);\r\n\r\n  return loading ? (\r\n    <Loader />\r\n  ) : err ? (\r\n    <Message variant='danger'>{err}</Message>\r\n  ) : (\r\n    <Carousel pause='hover' className='bg-dark'>\r\n      {products.map((product) => (\r\n        <Carousel.Item key={product._id}>\r\n          <Link to={`/product/${product._id}`}>\r\n            <Image src={product.image} alt={product.name} fluid />\r\n            <Carousel.Caption className='carousel-caption'>\r\n              <h2>\r\n                {product.name}({product.price})\r\n              </h2>\r\n            </Carousel.Caption>\r\n          </Link>\r\n        </Carousel.Item>\r\n      ))}\r\n    </Carousel>\r\n  );\r\n};\r\n\r\nexport default ProductCarousal;\r\n","import React, { useEffect } from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport Product from '../components/Product.jsx';\r\nimport Loading from '../components/global/Loader/Loading.jsx';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listProducts } from '../actions/productActions';\r\nimport Message from '../components/global/Message.jsx';\r\nimport Paginate from '../components/global/Paginate.jsx';\r\nimport ProductCarousel from '../components/ProductCarousel.jsx';\r\nimport { Helmet } from 'react-helmet';\r\n\r\n// import { login } from '../actions/userActions';\r\n\r\nconst Home = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const keyword = match.params.keyword;\r\n  const pageNumber = match.params.pageNumber || 1;\r\n\r\n  let { loading = true, products = [], err = '', page, pages } = useSelector(\r\n    (state) => state.productList\r\n  );\r\n\r\n  // const loginUser = useSelector((state) => state.loginUser);\r\n  // const { userToken } = loginUser;\r\n  // products = products && products.data;/\r\n  useEffect(() => {\r\n    dispatch(listProducts(pageNumber));\r\n    // dispatch();\r\n    // console.log(userToken);\r\n  }, [dispatch, keyword, pageNumber]);\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>AMH Store | Home</title>\r\n      </Helmet>\r\n      {!keyword && (\r\n        <>\r\n          <h2>Top Products</h2>\r\n          <ProductCarousel /> <br />\r\n        </>\r\n      )}\r\n      <h3>Latest products</h3>\r\n      <Row>\r\n        {loading ? (\r\n          <Loading />\r\n        ) : err ? (\r\n          <h2 className='alert alert-danger'>{err}</h2>\r\n        ) : typeof products === 'object' && products.length > 0 ? (\r\n          products.map((product) => (\r\n            <Col key={product._id} sm={12} md={6} lg={4} xl={3}>\r\n              <Product product={product} keyword={keyword ? keyword : ''} />\r\n            </Col>\r\n          ))\r\n        ) : (\r\n          <Message>No products yet </Message>\r\n        )}\r\n      </Row>\r\n      <Paginate pages={pages} page={page} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import * as c from '../constants/reviewsConstants';\r\nimport axios from 'axios';\r\nimport * as urls from '../constants/urls';\r\n\r\nexport const productCreateReviewAction = (productId, review) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  try {\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n\r\n    dispatch({\r\n      type: c.PRODUCT_CREATE_REVIEW_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n\r\n    const {\r\n      data: { data },\r\n    } = await axios.post(`${urls.reviewsUrl}/${productId}`, review, config);\r\n\r\n    dispatch({\r\n      type: c.PRODUCT_CREATE_REVIEW_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.PRODUCT_CREATE_REVIEW_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProductReviewsAction = (productId) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  try {\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n\r\n    dispatch({\r\n      type: c.REVIEW_GET_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        // 'Content-Type': 'application/json',\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n\r\n    const {\r\n      data: { data },\r\n    } = await axios.get(`${urls.reviewsUrl}/${productId}`, config);\r\n\r\n    dispatch({\r\n      type: c.REVIEW_GET_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.REVIEW_GET_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n","export const REVIEW_GET_REQUEST = 'REVIEW_GET_REQUEST';\r\nexport const REVIEW_GET_SUCCESS = 'REVIEW_GET_SUCCESS';\r\nexport const REVIEW_GET_FAIL = 'REVIEW_GET_FAIL';\r\n\r\nexport const PRODUCT_CREATE_REVIEW_REQUEST = 'PRODUCT_CREATE_REVIEW_REQUEST';\r\nexport const PRODUCT_CREATE_REVIEW_SUCCESS = 'PRODUCT_CREATE_REVIEW_SUCCESS';\r\nexport const PRODUCT_CREATE_REVIEW_FAIL = 'PRODUCT_CREATE_REVIEW_FAIL';\r\nexport const PRODUCT_CREATE_REVIEW_RESET = 'PRODUCT_CREATE_REVIEW_REST';\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Image,\r\n  ListGroup,\r\n  Card,\r\n  Form,\r\n} from 'react-bootstrap';\r\nimport Rating from '../components/global/Rating.jsx';\r\nimport { Link } from 'react-router-dom';\r\nimport Loading from '../components/global/Loader/Loading.jsx';\r\nimport Message from '../components/global/Message.jsx';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { productDetailsAction } from '../actions/productActions';\r\nimport {\r\n  productCreateReviewAction,\r\n  getProductReviewsAction,\r\n} from '../actions/reviewsActions';\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/reviewsConstants';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst Product = ({ match, history }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [rating, setRating] = useState(1);\r\n  const [review, setReview] = useState('');\r\n  const [showForm, setShowForm] = useState(true);\r\n\r\n  let { product = {}, loading = true, err = '' } = useSelector(\r\n    (s) => s.productDetails\r\n  );\r\n  let productCreateReview = useSelector((s) => s.productCreateReview);\r\n  const {\r\n    loading: loadingCreateReview,\r\n    err: errCreateReview,\r\n    success: successCreateReview,\r\n  } = productCreateReview;\r\n\r\n  let getReviewsForProduct = useSelector((s) => s.getReviewsForProduct);\r\n  const {\r\n    loading: loadingGetReviews,\r\n    err: errGetReviews,\r\n    reviews = [],\r\n  } = getReviewsForProduct;\r\n\r\n  let loginUser = useSelector((s) => s.loginUser);\r\n  const { userInfo = {} } = loginUser;\r\n\r\n  const submitReviewHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(\r\n      productCreateReviewAction(match.params.id, {\r\n        review,\r\n        rating: Number(rating),\r\n      })\r\n    );\r\n    dispatch(getProductReviewsAction(match.params.id));\r\n  };\r\n  //! FIX THAT ERROR (if error happened when creating new review ) => the getReviewsForProduct will be null\r\n  useEffect(() => {\r\n    //! preventing the user from creating more than one review\r\n    if (reviews.map((review) => userInfo._id === review.user).length > 0) {\r\n      setShowForm(false);\r\n    } else {\r\n      setShowForm(true);\r\n    }\r\n    //! preventing the user from creating more than one review\r\n    if (successCreateReview) {\r\n      setRating(1);\r\n      setReview('');\r\n      dispatch({ type: PRODUCT_CREATE_REVIEW_RESET });\r\n      dispatch(productDetailsAction(match.params.id));\r\n      dispatch(getProductReviewsAction(match.params.id));\r\n    }\r\n    dispatch(productDetailsAction(match.params.id));\r\n    dispatch(getProductReviewsAction(match.params.id));\r\n    return () => {\r\n      setRating(1);\r\n      setReview('');\r\n      dispatch({ type: PRODUCT_CREATE_REVIEW_RESET });\r\n    };\r\n    // eslint-disable-next-line\r\n  }, [dispatch, match.params.id, successCreateReview, userInfo]);\r\n\r\n  const addToCart = () => {\r\n    history.push(`/cart/${match.params.id}?quantity=${quantity}`);\r\n  };\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Loading />\r\n      ) : err ? (\r\n        <Message message={err}></Message>\r\n      ) : (\r\n        <>\r\n          <Link\r\n            style={{ fontSize: '25px' }}\r\n            className='btn btn-light fa fa-arrow-left my-3'\r\n            to='/'\r\n          ></Link>\r\n          <Helmet>\r\n            <title>{product.name}</title>\r\n          </Helmet>\r\n          <Row>\r\n            <Col md={6}>\r\n              <Image src={product.image} alt={product.name} fluid />\r\n            </Col>\r\n            <Col md={3}>\r\n              <ListGroup variant='flush'>\r\n                <ListGroup.Item>\r\n                  <h3>{product.name}</h3>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Rating rate={product.rating} />\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  Price: ${product.price}\r\n                  <span\r\n                    className='ml-auto'\r\n                    style={{ position: 'absolute', right: '0' }}\r\n                  >\r\n                    {product.numReviews} reviews\r\n                  </span>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  Description: {product.description}\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Card>\r\n                <ListGroup variant='flush'>\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Price:</Col>\r\n                      <Col>\r\n                        <strong>${product.price}</strong>\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Status:</Col>\r\n                      <Col\r\n                        style={{\r\n                          color: product.countInStock > 0 ? null : 'red',\r\n                        }}\r\n                      >\r\n                        <strong>\r\n                          {product.countInStock > 0\r\n                            ? `${product.countInStock} In Stock`\r\n                            : 'out of stock'}\r\n                        </strong>\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                  {product.countInStock > 0 ? (\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Quantity</Col>\r\n                        <Col>\r\n                          <Form.Control\r\n                            as='select'\r\n                            value={quantity}\r\n                            onChange={(e) => setQuantity(e.target.value)}\r\n                          >\r\n                            {[...Array(product.countInStock).keys()].map(\r\n                              (x) => (\r\n                                <option key={x + 1} value={x + 1}>\r\n                                  {x + 1}\r\n                                </option>\r\n                              )\r\n                            )}\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                  ) : null}\r\n\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Button\r\n                        onClick={addToCart}\r\n                        style={{\r\n                          cursor: !product.countInStock ? 'no-drop' : null,\r\n                        }}\r\n                        disabled={!product.countInStock}\r\n                        className='btn-block'\r\n                      >\r\n                        Add To Cart\r\n                      </Button>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col md={6}>\r\n              <h2>Reviews</h2>\r\n              <ListGroup variant='flush'>\r\n                {loadingGetReviews ? (\r\n                  <Loading />\r\n                ) : errGetReviews ? (\r\n                  <Message variant='danger'>{errGetReviews}</Message>\r\n                ) : null}\r\n                {reviews.length === 0 ? (\r\n                  <Message>No Reviews</Message>\r\n                ) : (\r\n                  reviews.map((review) => (\r\n                    <ListGroup.Item key={review._id}>\r\n                      <strong>\r\n                        {(review.user && review.user.name) || (\r\n                          <span style={{ color: 'red' }}>Deleted User</span>\r\n                        )}\r\n                      </strong>\r\n                      <br />\r\n                      <Rating rate={review.rating} />{' '}\r\n                      <>{review.createdAt.substring(0, 10)}</>\r\n                      <br />\r\n                      <br />\r\n                      <p>{review.review}</p>\r\n                    </ListGroup.Item>\r\n                  ))\r\n                )}\r\n                <ListGroup.Item>\r\n                  {userInfo && userInfo.role === 'user' ? (\r\n                    <>\r\n                      <h2>Write customer review</h2>\r\n                      {errCreateReview ? (\r\n                        <Message variant='danger'>{errCreateReview}</Message>\r\n                      ) : null}\r\n                      {loadingCreateReview ? <Loading /> : null}\r\n                      {successCreateReview ? (\r\n                        <Message variant='success'>Review submitted !</Message>\r\n                      ) : null}\r\n                      {showForm && (\r\n                        <Form onSubmit={submitReviewHandler}>\r\n                          <Form.Group controlId='rating'>\r\n                            <Form.Label>Rating</Form.Label>\r\n                            <Form.Control\r\n                              as='select'\r\n                              value={rating}\r\n                              onChange={(e) => setRating(e.target.value)}\r\n                            >\r\n                              <option value='1'>1 - Poor</option>\r\n                              <option value='2'>2 - Fair</option>\r\n                              <option value='3'>3 - Good</option>\r\n                              <option value='4'>4 - Vary Good</option>\r\n                              <option value='5'>5 - Excellent</option>\r\n                            </Form.Control>\r\n                          </Form.Group>\r\n                          <Form.Group controlId='review'>\r\n                            <Form.Label>Review</Form.Label>\r\n                            <Form.Control\r\n                              as='textarea'\r\n                              row='3'\r\n                              value={review}\r\n                              onChange={(e) => setReview(e.target.value)}\r\n                            ></Form.Control>\r\n                          </Form.Group>\r\n                          <Button type='submit' variant='primary'>\r\n                            Submit\r\n                          </Button>\r\n                        </Form>\r\n                      )}\r\n                    </>\r\n                  ) : userInfo && userInfo.role === 'admin' ? null : (\r\n                    <>\r\n                      <h2>Write customer review</h2>\r\n                      <Message>\r\n                        Please\r\n                        <Link to='/login'>\r\n                          <strong> Log in </strong>\r\n                        </Link>\r\n                        to write a review\r\n                      </Message>\r\n                    </>\r\n                  )}\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import * as c from '../constants/cartConstants';\r\nimport axios from 'axios';\r\n\r\nimport * as urls from '../constants/urls.js';\r\n\r\nexport const addToCart = (id, quantity) => async (dispatch, getState) => {\r\n  const {\r\n    data: { data },\r\n  } = await axios.get(`${urls.productsUrl}/${id}`);\r\n\r\n  dispatch({\r\n    type: c.CART_ADD_ITEM,\r\n    payload: {\r\n      product: data._id,\r\n      name: data.name,\r\n      image: data.image,\r\n      price: data.price,\r\n      countInStock: data.countInStock,\r\n      quantity,\r\n    },\r\n  });\r\n\r\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const removeFromCart = (id) => async (dispatch, getState) => {\r\n  dispatch({\r\n    type: c.CART_REMOVE_ITEM,\r\n    payload: id,\r\n  });\r\n\r\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const saveShippingAddress = (data) => async (dispatch) => {\r\n  dispatch({\r\n    type: c.CART_SAVE_SHIPPING_ADDRESS,\r\n    payload: data,\r\n  });\r\n\r\n  localStorage.setItem('shippingAddress', JSON.stringify(data));\r\n};\r\n\r\nexport const savePaymentMethod = (data) => async (dispatch) => {\r\n  dispatch({\r\n    type: c.CART_SAVE_PAYMENT_METHOD,\r\n    payload: data,\r\n  });\r\n\r\n  localStorage.setItem('paymentMethod', JSON.stringify(data));\r\n};\r\n\r\nexport const emptyCart = () => (dispatch) => {\r\n  //? removing cart content\r\n  dispatch({\r\n    type: c.EMPTY_CARD,\r\n  });\r\n\r\n  localStorage.removeItem('cartItems');\r\n  localStorage.removeItem('paymentMethod');\r\n  localStorage.removeItem('shippingAddress');\r\n  //? end of the code to remove cart content\r\n};\r\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS';\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD';\r\nexport const EMPTY_CARD = 'EMPTY_CARD';\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addToCart, removeFromCart } from '../actions/cartActions';\r\nimport {\r\n  Row,\r\n  Col,\r\n  ListGroup,\r\n  Image,\r\n  Form,\r\n  Button,\r\n  Card,\r\n} from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport Message from '../components/global/Message.jsx';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst Cart = ({ match, location, history }) => {\r\n  const dispatch = useDispatch();\r\n  const id = match.params.id;\r\n  const quantity = location.search.split('=')[1];\r\n  const cart = useSelector((state) => state.cart);\r\n  const { cartItems } = cart;\r\n\r\n  useEffect(() => {\r\n    if (id && quantity) {\r\n      dispatch(addToCart(id, quantity));\r\n    }\r\n  }, [dispatch, id, quantity]);\r\n\r\n  const removeFromCartHandler = (id) => {\r\n    dispatch(removeFromCart(id));\r\n  };\r\n\r\n  const checkoutHandler = () => {\r\n    history.push('/login?redirect=shipping');\r\n  };\r\n  return (\r\n    <Row>\r\n      <Helmet>\r\n        <title>Your Cart</title>\r\n      </Helmet>\r\n      <Col md={8}>\r\n        <h1>Shopping Cart</h1>\r\n        {cartItems.length === 0 ? (\r\n          <Message>\r\n            Your cart is empty{' '}\r\n            <Link style={{ fontWeight: 'bold' }} to='/'>\r\n              Go Back\r\n            </Link>\r\n          </Message>\r\n        ) : (\r\n          <ListGroup variant='flush'>\r\n            {cartItems.map((item) => (\r\n              <ListGroup.Item key={item.product}>\r\n                <Row>\r\n                  <Col sm={4} md={4} lg={3} xl={2}>\r\n                    <Image src={item.image} alt={item.name} fluid rounded />\r\n                  </Col>\r\n                  <Col md={3}>\r\n                    <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                  </Col>\r\n                  <Col md={2}> ${item.price}</Col>\r\n                  <Col md={2}>\r\n                    <Form.Control\r\n                      as='select'\r\n                      value={item.quantity}\r\n                      onChange={(e) => {\r\n                        dispatch(\r\n                          addToCart(item.product, Number(e.target.value))\r\n                        );\r\n                        history.push('/cart');\r\n                      }}\r\n                    >\r\n                      {[...Array(item.countInStock).keys()].map((x) => (\r\n                        <option key={x + 1} value={x + 1}>\r\n                          {x + 1}\r\n                        </option>\r\n                      ))}\r\n                    </Form.Control>\r\n                  </Col>\r\n                  <Col md={2}>\r\n                    <Button\r\n                      type='button'\r\n                      variant='light'\r\n                      onClick={() => removeFromCartHandler(item.product)}\r\n                    >\r\n                      <span className='fas fa-trash'></span>\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n            ))}\r\n          </ListGroup>\r\n        )}\r\n      </Col>\r\n      <Col md={4}>\r\n        <Card>\r\n          <ListGroup variant='flush'>\r\n            <ListGroup.Item>\r\n              <h3>\r\n                SubTotal (\r\n                {cartItems.reduce((acc, item) => acc + item.quantity * 1, 0)})\r\n                items\r\n              </h3>\r\n              $\r\n              {cartItems\r\n                .reduce(\r\n                  (acc, item) => acc + item.quantity * 1 * 1 * item.price * 1,\r\n                  0\r\n                )\r\n                .toFixed(2)}\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <Button\r\n                type='button'\r\n                className='btn-block'\r\n                disabled={cartItems.length === 0}\r\n                onClick={checkoutHandler}\r\n              >\r\n                CheckOut\r\n              </Button>\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nconst FormContainer = ({ children }) => {\r\n  return (\r\n    <Container>\r\n      <Row className='justify-content-md-center'>\r\n        <Col xs={12} md={6}>\r\n          {children}\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default FormContainer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/global/Message.jsx';\r\nimport Loader from '../components/global/Loader/Loading.jsx';\r\nimport { login } from '../actions/userActions';\r\nimport FormContainer from '../components/global/FormContainer.jsx';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst LogIn = ({ history, match, location }) => {\r\n  const [userLoginData, setUserLoginData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const loginUser = useSelector((state) => state.loginUser);\r\n  const { loading, err, userInfo } = loginUser;\r\n  const redirect = location.search ? location.search.split('=')[1] : '/';\r\n\r\n  useEffect(() => {\r\n    //? redirect if we are already logged in\r\n    if (userInfo) {\r\n      history.push(redirect);\r\n    }\r\n  }, [history, userInfo, redirect]);\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = userLoginData;\r\n    dispatch(login(email, password));\r\n  };\r\n\r\n  const handleUserDataChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserLoginData({ ...userLoginData, [name]: value });\r\n  };\r\n  return (\r\n    <FormContainer>\r\n      <Helmet>\r\n        <title>AMH Store | Login</title>\r\n      </Helmet>\r\n      <h1>Sign In</h1>\r\n      {err ? <Message variant='danger'>{err}</Message> : null}\r\n      {loading ? <Loader /> : null}\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId='email'>\r\n          <Form.Label>Email Address</Form.Label>\r\n          <Form.Control\r\n            type='email'\r\n            placeholder='Enter Your Email'\r\n            name='email'\r\n            value={userLoginData.email}\r\n            onChange={(e) => handleUserDataChange(e)}\r\n            required\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='password'>\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='Enter Your Password'\r\n            name='password'\r\n            value={userLoginData.password}\r\n            onChange={(e) => handleUserDataChange(e)}\r\n            required\r\n            minLength={8}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Button type='submit' variant='primary'>\r\n          Sign In\r\n        </Button>\r\n      </Form>\r\n      <Row className='py-3'>\r\n        <Col>\r\n          New Customer?{' '}\r\n          <Link to={redirect ? `/register/${redirect}` : '/register'}>\r\n            Register\r\n          </Link>\r\n        </Col>\r\n      </Row>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default LogIn;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/global/Message.jsx';\r\nimport Loader from '../components/global/Loader/Loading.jsx';\r\nimport { register } from '../actions/userActions';\r\nimport FormContainer from '../components/global/FormContainer.jsx';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst Register = ({ history, location }) => {\r\n  const [userRegisterData, setUserRegisterData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    passwordConfirm: '',\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const registerUser = useSelector((state) => state.registerUser);\r\n  const { loading, err, userInfo } = registerUser;\r\n  console.log(loading, err, userInfo);\r\n  const redirect = location.search ? location.search.split('=')[1] : '/';\r\n\r\n  useEffect(() => {\r\n    //? redirect if we are already logged in\r\n    if (userInfo) {\r\n      history.push(redirect);\r\n    }\r\n  }, [history, userInfo, redirect]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    const { name, email, password, passwordConfirm } = userRegisterData;\r\n    dispatch(register(name, email, password, passwordConfirm));\r\n  };\r\n\r\n  const handleUserDataChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserRegisterData({ ...userRegisterData, [name]: value });\r\n  };\r\n  return (\r\n    <FormContainer>\r\n      <Helmet>\r\n        <title>AMH Store | Register</title>\r\n      </Helmet>\r\n      <h1>Sign Up</h1>\r\n      {err ? <Message variant='danger'>{err}</Message> : null}\r\n      {loading ? <Loader /> : null}\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId='name'>\r\n          <Form.Label>Name</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            placeholder='Enter Your Name'\r\n            name='name'\r\n            value={userRegisterData.name}\r\n            onChange={(e) => handleUserDataChange(e)}\r\n            required\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='email'>\r\n          <Form.Label>Email Address</Form.Label>\r\n          <Form.Control\r\n            type='email'\r\n            placeholder='Enter Your Email'\r\n            name='email'\r\n            value={userRegisterData.email}\r\n            onChange={(e) => handleUserDataChange(e)}\r\n            required\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='password'>\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='Enter Your Password'\r\n            name='password'\r\n            value={userRegisterData.password}\r\n            onChange={(e) => handleUserDataChange(e)}\r\n            required\r\n            minLength={8}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='passwordConfirm'>\r\n          <Form.Label>Password Confirm</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='Enter Your Password Again'\r\n            name='passwordConfirm'\r\n            value={userRegisterData.passwordConfirm}\r\n            onChange={(e) => handleUserDataChange(e)}\r\n            required\r\n            minLength={8}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Button type='submit' variant='primary'>\r\n          Sign Up\r\n        </Button>\r\n      </Form>\r\n      <Row className='py-3'>\r\n        <Col>\r\n          Already Signed Up?{' '}\r\n          <Link to={redirect ? `/login/${redirect}` : '/login'}>Login</Link>\r\n        </Col>\r\n      </Row>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import axios from 'axios';\r\nimport * as c from '../constants/orderConstants';\r\nimport * as urls from '../constants/urls';\r\n\r\nexport const createOrderAction = (order) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: c.ORDER_CREATE_REQUEST });\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const {\r\n      data: { data },\r\n    } = await axios.post(urls.ordersUrl, order, config);\r\n\r\n    dispatch({\r\n      type: c.ORDER_CREATE_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.ORDER_CREATE_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getOrderDetailsAction = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: c.ORDER_DETAILS_REQUEST });\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n    const config = {\r\n      headers: {\r\n        // 'Content-Type': 'application/json',\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const {\r\n      data: { data },\r\n    } = await axios.get(`${urls.ordersUrl}/${id}`, config);\r\n\r\n    dispatch({\r\n      type: c.ORDER_DETAILS_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.ORDER_DETAILS_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const removeCreateOrder = () => (dispatch) => {\r\n  dispatch({\r\n    type: c.REMOVE_CREATE_ORDER,\r\n  });\r\n};\r\n\r\nexport const getMyOrdersAction = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: c.MY_ORDERS_LIST_REQUEST });\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n    const config = {\r\n      headers: {\r\n        // 'Content-Type': 'application/json',\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const {\r\n      data: { data },\r\n    } = await axios.get(urls.myOrdersUrl, config);\r\n\r\n    dispatch({\r\n      type: c.MY_ORDERS_LIST_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.MY_ORDERS_LIST_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\nexport const getAllOrdersAction = (pageNumber = 1) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  try {\r\n    dispatch({ type: c.ORDERS_LIST_REQUEST });\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n    const config = {\r\n      headers: {\r\n        // 'Content-Type': 'application/json',\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const { data } = await axios.get(\r\n      `${urls.ordersUrl}?pageNumber=${pageNumber}`,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: c.ORDERS_LIST_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.ORDERS_LIST_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\nexport const deliverOrderAction = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: c.ORDERS_DELIVER_REQUEST });\r\n    const currentUserToken = getState().loginUser.userToken;\r\n    const tokenToSend = `Bearer ${currentUserToken}`;\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: tokenToSend,\r\n      },\r\n    };\r\n    const {\r\n      data: { data },\r\n    } = await axios.get(`${urls.ordersUrl}/${id}/deliver`, config);\r\n\r\n    dispatch({\r\n      type: c.ORDERS_DELIVER_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: c.ORDERS_DELIVER_FAIL,\r\n      payload:\r\n        err.response && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message,\r\n    });\r\n  }\r\n};\r\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\r\n\r\nexport const REMOVE_CREATE_ORDER = 'REMOVE_CREATE_ORDER';\r\n\r\nexport const MY_ORDERS_LIST_REQUEST = 'MY_ORDERS_LIST_REQUEST';\r\nexport const MY_ORDERS_LIST_SUCCESS = 'MY_ORDERS_LIST_SUCCESS';\r\nexport const MY_ORDERS_LIST_FAIL = 'MY_ORDERS_LIST_FAIL';\r\n\r\nexport const ORDERS_LIST_REQUEST = 'ORDERS_LIST_REQUEST';\r\nexport const ORDERS_LIST_SUCCESS = 'ORDERS_LIST_SUCCESS';\r\nexport const ORDERS_LIST_FAIL = 'ORDERS_LIST_FAIL';\r\n\r\nexport const ORDERS_DELIVER_REQUEST = 'ORDERS_DELIVER_REQUEST';\r\nexport const ORDERS_DELIVER_SUCCESS = 'ORDERS_DELIVER_SUCCESS';\r\nexport const ORDERS_DELIVER_FAIL = 'ORDERS_DELIVER_FAIL';\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { userDetailsAction } from '../actions/userActions';\r\nimport { Form, Row, Col, Button } from 'react-bootstrap';\r\nimport Loading from '../components/global/Loader/Loading.jsx';\r\nimport Message from '../components/global/Message.jsx';\r\nimport { userUpdateProfileAction } from '../actions/userActions';\r\nimport { getMyOrdersAction } from '../actions/orderActions.js';\r\n\r\nconst Profile = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const userDetails = useSelector((s) => s.userDetails);\r\n  const loggedInUser = useSelector((s) => s.loginUser.userToken);\r\n  const { loading = true, userInfo = {}, err = '' } = userDetails;\r\n\r\n  const userUpdateProfile = useSelector((s) => s.userUpdateProfile);\r\n  const { success } = userUpdateProfile;\r\n  const [currentUserDetails, setCurrentUserDetails] = useState({\r\n    name: '',\r\n    email: '',\r\n  });\r\n\r\n  // const [dataChanged, setDataChanged] = useState(false);\r\n\r\n  const updateHandler = (e) => {\r\n    e.preventDefault();\r\n    //! Update handler\r\n    dispatch(userUpdateProfileAction(currentUserDetails));\r\n  };\r\n\r\n  const handleUserDataChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setCurrentUserDetails({ ...currentUserDetails, [name]: value });\r\n    // console.log(currentUserDetails == userInfo);\r\n    //! try to add this future\r\n    // if (\r\n    //   currentUserDetails.name === userInfo.name &&\r\n    //   currentUserDetails.password === userInfo.password\r\n    // ) {\r\n    //   setDataChanged(false);\r\n    // } else {\r\n    //   setDataChanged(true);\r\n    // }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!loggedInUser) {\r\n      return history.push('/login');\r\n    } else {\r\n      if (!userInfo.name) {\r\n        dispatch(userDetailsAction());\r\n        dispatch(getMyOrdersAction());\r\n      } else {\r\n        setCurrentUserDetails({ name: userInfo.name, email: userInfo.email });\r\n      }\r\n    }\r\n  }, [dispatch, history, loggedInUser, userInfo.email, userInfo.name]);\r\n  return (\r\n    <>\r\n      {success ? <Message variant='success'>Profile updated </Message> : null}\r\n      {loading ? (\r\n        <>\r\n          <Loading />\r\n        </>\r\n      ) : err ? (\r\n        <Message variant='danger'>{err}</Message>\r\n      ) : (\r\n        <>\r\n          <Row>\r\n            <Col md={3}>\r\n              <h1>User Profile</h1>\r\n              <Form onSubmit={updateHandler}>\r\n                <Form.Group controlId='name'>\r\n                  <Form.Label>Name</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='Enter Your Name'\r\n                    name='name'\r\n                    value={currentUserDetails.name}\r\n                    onChange={(e) => handleUserDataChange(e)}\r\n                    required\r\n                  ></Form.Control>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='email'>\r\n                  <Form.Label>Email Address</Form.Label>\r\n                  <Form.Control\r\n                    type='email'\r\n                    placeholder='Enter Your Email'\r\n                    name='email'\r\n                    value={currentUserDetails.email}\r\n                    onChange={(e) => handleUserDataChange(e)}\r\n                    required\r\n                  ></Form.Control>\r\n                </Form.Group>\r\n                <Button type='submit'>Update</Button>\r\n              </Form>\r\n            </Col>\r\n            <Col md={9}></Col>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst CheckoutSteps = ({ step1, step2, step3, step4 }) => {\r\n  return (\r\n    <Nav style={{ display: 'flex', flexWrap: 'nowrap', width: '100%' }}>\r\n      <Nav.Item>\r\n        {step1 ? (\r\n          <LinkContainer to='/login'>\r\n            <Nav.Link>Sign In</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Sign In</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n\r\n      <Nav.Item>\r\n        {step2 ? (\r\n          <LinkContainer to='/shipping'>\r\n            <Nav.Link>Shipping</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Shipping</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n\r\n      <Nav.Item>\r\n        {step3 ? (\r\n          <LinkContainer to='/payment'>\r\n            <Nav.Link>Payment</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Payment</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n\r\n      <Nav.Item>\r\n        {step4 ? (\r\n          <LinkContainer to='/placeorder'>\r\n            <Nav.Link>Place Order</Nav.Link>\r\n          </LinkContainer>\r\n        ) : (\r\n          <Nav.Link disabled>Place Order</Nav.Link>\r\n        )}\r\n      </Nav.Item>\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default CheckoutSteps;\r\n","import React, { useState } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport FormContainer from '../components/global/FormContainer.jsx';\r\nimport { saveShippingAddress } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps.jsx';\r\n\r\nconst Shipping = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((s) => s.cart);\r\n  const { shippingAddress } = cart;\r\n  const loginUser = useSelector((s) => s.loginUser);\r\n  const { userToken } = loginUser;\r\n\r\n  const [address, setAddress] = useState({\r\n    address: shippingAddress.address || '',\r\n    city: shippingAddress.city || '',\r\n    postalCode: shippingAddress.postalCode || '',\r\n    country: shippingAddress.country || '',\r\n  });\r\n\r\n  const handleUserDataChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setAddress({ ...address, [name]: value });\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(saveShippingAddress(address));\r\n    history.push('/payment');\r\n  };\r\n\r\n  if (!userToken) {\r\n    history.push('/login');\r\n  }\r\n  return (\r\n    <FormContainer>\r\n      <CheckoutSteps step1 step2 />\r\n      <h1>Shipping</h1>\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId='address'>\r\n          <Form.Label>Address</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            placeholder='Enter Your Address'\r\n            name='address'\r\n            value={address.address}\r\n            onChange={(e) => handleUserDataChange(e)}\r\n            required\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='city'>\r\n          <Form.Label>City</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            placeholder='Enter Your city'\r\n            name='city'\r\n            value={address.city}\r\n            onChange={(e) => handleUserDataChange(e)}\r\n            required\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='postalCode'>\r\n          <Form.Label>Postal Code</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            placeholder='Enter Your postal code'\r\n            name='postalCode'\r\n            value={address.postalCode}\r\n            onChange={(e) => handleUserDataChange(e)}\r\n            required\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='country'>\r\n          <Form.Label>Country</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            placeholder='Enter Your Country'\r\n            name='country'\r\n            value={address.country}\r\n            onChange={(e) => handleUserDataChange(e)}\r\n            required\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Button type='submit' variant='primary'>\r\n          Continue\r\n        </Button>\r\n      </Form>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default Shipping;\r\n","import React, { useState } from 'react';\r\nimport { Form, Button, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport FormContainer from '../components/global/FormContainer.jsx';\r\nimport { savePaymentMethod } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps.jsx';\r\n\r\nconst PaymentMethod = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((s) => s.cart);\r\n  const { shippingAddress } = cart;\r\n  const loginUser = useSelector((s) => s.loginUser);\r\n  const { userToken } = loginUser;\r\n\r\n  const [paymentMethod, setPaymentMethod] = useState('PayPal');\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(savePaymentMethod(paymentMethod));\r\n    history.push('/placeorder');\r\n  };\r\n\r\n  if (!userToken) {\r\n    history.push('/login');\r\n  }\r\n  if (!shippingAddress) {\r\n    history.push('/shipping');\r\n  }\r\n  return (\r\n    <FormContainer>\r\n      <CheckoutSteps step1 step2 step3 />\r\n      <h1>Payment Method</h1>\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group>\r\n          <Form.Label as='legend'>Select Method</Form.Label>\r\n          <Col>\r\n            <Form.Check\r\n              type='radio'\r\n              label='PayPal or credit card'\r\n              id='PayPal'\r\n              name='paymentMethod'\r\n              vale='PayPal'\r\n              checked\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            ></Form.Check>\r\n          </Col>\r\n        </Form.Group>\r\n\r\n        <Button type='submit' variant='primary'>\r\n          Continue\r\n        </Button>\r\n      </Form>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default PaymentMethod;\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Row, Col, ListGroup, Image, Card } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/global/Message.jsx';\r\nimport CheckoutSteps from '../components/CheckoutSteps.jsx';\r\nimport { createOrderAction } from '../actions/orderActions';\r\nimport { emptyCart } from '../actions/cartActions';\r\n\r\nconst PlaceOrder = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((s) => s.cart);\r\n  const createOrder = useSelector((s) => s.createOrder);\r\n  const { order = null, success = false, err = null } = createOrder;\r\n\r\n  const addDec = (num) => Math.round(num * 100) / 100;\r\n\r\n  //calculate prices\r\n  cart.itemsPrice = addDec(\r\n    cart.cartItems.reduce((acc, item) => acc + item.price * item.quantity, 0)\r\n  );\r\n\r\n  cart.shippingPrice = cart.itemsPrice > 100 ? 10 : 100;\r\n\r\n  cart.taxPrice = addDec(Number(0.15 * cart.itemsPrice));\r\n\r\n  cart.totalPrice = addDec(\r\n    Number(cart.itemsPrice) + Number(cart.shippingPrice) + Number(cart.taxPrice)\r\n  );\r\n\r\n  const placeOrderHandler = () => {\r\n    dispatch(\r\n      createOrderAction({\r\n        orderItems: cart.cartItems,\r\n        shippingAddress: cart.shippingAddress,\r\n        paymentMethod: cart.paymentMethod,\r\n        itemsPrice: cart.itemsPrice,\r\n        shippingPrice: cart.shippingPrice,\r\n        taxPrice: cart.taxPrice,\r\n        totalPrice: cart.totalPrice,\r\n      })\r\n    );\r\n\r\n    //? removing card content\r\n    dispatch(emptyCart());\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (success) {\r\n      history.push(`/order/${order._id}?emptyCart=true`);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [history, success]);\r\n  return (\r\n    <>\r\n      {err ? <Message variant='danger'>{err}</Message> : null}\r\n\r\n      <CheckoutSteps step1 step2 step3 step4 />\r\n      <Row>\r\n        <Col md={8}>\r\n          <ListGroup variant='flush'>\r\n            <ListGroup.Item>\r\n              <h2>Shipping</h2>\r\n              <p>\r\n                <strong>Address : </strong>\r\n                {cart.shippingAddress.address},{cart.shippingAddress.city},\r\n                {cart.shippingAddress.postalCode},{cart.shippingAddress.country}\r\n              </p>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <h2>Payment Method</h2>\r\n              <strong>Method : </strong>\r\n              {cart.paymentMethod}\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <h2>Order Items</h2>\r\n              {cart.cartItems.length === 0 ? (\r\n                <Message>Your cart is empty</Message>\r\n              ) : (\r\n                <ListGroup variant='flush'>\r\n                  {cart.cartItems.map((item, index) => (\r\n                    <ListGroup.Item key={index}>\r\n                      <Row>\r\n                        <Col md={1}>\r\n                          <Image\r\n                            src={item.image}\r\n                            alt={item.name}\r\n                            fluid\r\n                            rounded\r\n                          />\r\n                        </Col>\r\n                        <Col>\r\n                          <Link to={`/product/${item.product}`}>\r\n                            {item.name}\r\n                          </Link>\r\n                        </Col>\r\n                        <Col md={4}>\r\n                          {item.quantity} x ${item.price} = $\r\n                          {item.quantity * item.price}\r\n                        </Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                  ))}\r\n                </ListGroup>\r\n              )}\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <ListGroup variant='flush'>\r\n              <ListGroup.Item>\r\n                <h2>Order Summary</h2>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Items Price</Col>\r\n                  <Col>${cart.itemsPrice}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Shipping Price</Col>\r\n                  <Col>${cart.shippingPrice}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Tax Price</Col>\r\n                  <Col>${cart.taxPrice}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Total Price</Col>\r\n                  <Col>${cart.totalPrice}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Button\r\n                  type='button'\r\n                  className='btn-block'\r\n                  disabled={cart.cartItems.length === 0}\r\n                  onClick={placeOrderHandler}\r\n                >\r\n                  Place Order\r\n                </Button>\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PlaceOrder;\r\n","import React, { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Table, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/global/Message.jsx';\r\nimport Loader from '../components/global/Loader/Loading.jsx';\r\nimport Paginate from '../components/global/Paginate.jsx';\r\nimport { getUsersListAction, deleteUserAction } from '../actions/userActions';\r\n\r\nconst UsersList = ({ match, history }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  let pageNumber = match.params.pageNumber;\r\n\r\n  const usersList = useSelector((s) => s.usersList);\r\n  const { users = [], loading = true, err = '', page, pages } = usersList;\r\n\r\n  const loginUser = useSelector((s) => s.loginUser);\r\n  const { userInfo = {} } = loginUser;\r\n\r\n  const deleteUser = useSelector((s) => s.deleteUser);\r\n  const {\r\n    success,\r\n    user: deletedUser,\r\n    loading: loadingDelete,\r\n    err: errDelete = '',\r\n  } = deleteUser;\r\n\r\n  const deleteUserHandler = (id) => {\r\n    //! DISPATCHING DELETE USER ACTION\r\n    if (window.confirm('Are You Sure !')) {\r\n      dispatch(deleteUserAction(id));\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (success && users.length - 1 < 1 && pageNumber > 1) {\r\n      history.push(`/admin/users_list/${pageNumber - 1}`);\r\n      dispatch(getUsersListAction(pageNumber - 1));\r\n    } else {\r\n      dispatch(getUsersListAction(pageNumber));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [dispatch, history, pageNumber, success]);\r\n\r\n  return (\r\n    <>\r\n      <h1>Users</h1>\r\n      {loadingDelete ? (\r\n        <Loader />\r\n      ) : success ? (\r\n        <Message variant='success'>\r\n          User <a href={`mailto:${deletedUser.email}`}>{deletedUser.email} </a>\r\n          deleted successfully\r\n        </Message>\r\n      ) : errDelete ? (\r\n        <Message variant='danger'>{errDelete}</Message>\r\n      ) : null}\r\n      {loading ? (\r\n        <Loader />\r\n      ) : err ? (\r\n        <Message variant='danger'>{err}</Message>\r\n      ) : (\r\n        <>\r\n          <Table striped bordered hover responsive className='table-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>Id</th>\r\n                <th>Name</th>\r\n                <th>Email</th>\r\n                <th>ROLE</th>\r\n                <th>Control</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {users.map((user) => (\r\n                <tr key={user._id}>\r\n                  <td>{user._id}</td>\r\n                  <td>{user.name}</td>\r\n                  <td>\r\n                    <a href={`mailto:${user.email}`}>{user.email}</a>{' '}\r\n                  </td>\r\n                  <td\r\n                    style={\r\n                      user.role === 'admin'\r\n                        ? {\r\n                            color: 'green',\r\n                            fontWeight: 'bold',\r\n                            textTransform: 'uppercase',\r\n                          }\r\n                        : null\r\n                    }\r\n                  >\r\n                    {user.role}\r\n                  </td>\r\n                  {userInfo.email !== user.email ? (\r\n                    <td>\r\n                      <LinkContainer to={`/admin/user_edit/${user._id}`}>\r\n                        <Button variant='light' className='btn-sm'>\r\n                          <span className='fas fa-edit'></span>\r\n                        </Button>\r\n                      </LinkContainer>\r\n                      <Button\r\n                        variant='danger'\r\n                        className='btn-sm'\r\n                        onClick={() => deleteUserHandler(user._id)}\r\n                      >\r\n                        <span className='fas fa-trash'></span>\r\n                      </Button>\r\n                    </td>\r\n                  ) : (\r\n                    <td>Me</td>\r\n                  )}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n          <Paginate\r\n            page={page}\r\n            pages={pages}\r\n            isAdmin={true}\r\n            link='users_list'\r\n          />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UsersList;\r\n","import React, { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Table, Button, Row, Col, Image } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/global/Message.jsx';\r\nimport Loader from '../components/global/Loader/Loading.jsx';\r\nimport Paginate from '../components/global/Paginate.jsx';\r\nimport {\r\n  listProducts,\r\n  deleteProductAction,\r\n  createProductAction,\r\n} from '../actions/productActions';\r\nimport {\r\n  CREATE_PRODUCT_RESET,\r\n  DELETE_PRODUCT_RESET,\r\n} from '../constants/productConstants';\r\n\r\nconst ProductsList = ({ history, match }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const pageNumber = match.params.pageNumber;\r\n  //? getting logged in user to check if he is admin\r\n  const loginUser = useSelector((s) => s.loginUser);\r\n  const { userInfo = {} } = loginUser;\r\n  //? getting products list\r\n  const productList = useSelector((s) => s.productList);\r\n  const { products = [], loading = true, err = '', page, pages } = productList;\r\n  //? getting created product info\r\n  const createProduct = useSelector((s) => s.createProduct);\r\n  const {\r\n    loading: loadingCreate,\r\n    product: createdProduct,\r\n    success: successCreate,\r\n    err: errCreate = '',\r\n  } = createProduct;\r\n  //? getting deleted product info\r\n  const deleteProduct = useSelector((s) => s.deleteProduct);\r\n  const {\r\n    success: successDelete,\r\n    product: deletedProduct,\r\n    loading: loadingDelete,\r\n    err: errDelete = '',\r\n  } = deleteProduct;\r\n  //? this is the sample product (the first info for any created product then it will be edited)\r\n  const sampleProduct = {\r\n    name: 'Sample Name',\r\n    price: 0,\r\n    user: userInfo._id,\r\n    image: '/images/sample.png',\r\n    brand: 'Sample Brand',\r\n    category: 'Sample Category',\r\n    countInStock: 0,\r\n    numReviews: 0,\r\n    description: 'Sample description',\r\n  };\r\n  //? for deleting product\r\n  const deleteProductHandler = (id) => {\r\n    //! DISPATCHING DELETE USER ACTION\r\n    if (window.confirm('Are You Sure !')) {\r\n      dispatch(deleteProductAction(id));\r\n      if (products.length - 1 < 1 && pageNumber > 1) {\r\n        history.push(`/admin/products_list/${pageNumber - 1}`);\r\n      }\r\n      setTimeout(() => {\r\n        dispatch({\r\n          type: DELETE_PRODUCT_RESET,\r\n        });\r\n      }, 2000);\r\n    }\r\n  };\r\n  //? for deleting product\r\n  const createProductHandler = () => {\r\n    //! DISPATCHING CREATE USER ACTION\r\n    dispatch(createProductAction(sampleProduct));\r\n  };\r\n\r\n  useEffect(() => {\r\n    //? without this resetting the page will redirect me to editing page\r\n    dispatch({\r\n      type: CREATE_PRODUCT_RESET,\r\n    });\r\n\r\n    if (userInfo && userInfo.role === 'admin') {\r\n      dispatch(listProducts(pageNumber));\r\n    } else {\r\n      history.push('/login');\r\n    }\r\n    if (userInfo && userInfo.role === 'admin' && successCreate) {\r\n      history.push(`/admin/products/${createdProduct._id}/edit`);\r\n    }\r\n  }, [\r\n    createdProduct,\r\n    dispatch,\r\n    history,\r\n    successCreate,\r\n    userInfo,\r\n    successDelete,\r\n    pageNumber,\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col>\r\n          <h1>Products</h1>\r\n        </Col>\r\n        <Col className='text-right'>\r\n          <Button onClick={createProductHandler} className='my-3'>\r\n            <span className='fas fa-plus'></span> Create Product\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      {loadingDelete ? (\r\n        <Loader />\r\n      ) : successDelete ? (\r\n        <Message variant='success'>\r\n          Product {deletedProduct._id} deleted successfully\r\n        </Message>\r\n      ) : errDelete ? (\r\n        <Message variant='danger'>{errDelete}</Message>\r\n      ) : null}\r\n\r\n      {loadingCreate ? (\r\n        <Loader />\r\n      ) : errCreate ? (\r\n        <Message variant='danger'>{errCreate}</Message>\r\n      ) : null}\r\n\r\n      {loading ? (\r\n        <Loader />\r\n      ) : err ? (\r\n        <Message variant='danger'>{err}</Message>\r\n      ) : !(typeof products === 'object' && products.length > 0) ? (\r\n        <Message>No products yet</Message>\r\n      ) : (\r\n        <>\r\n          <Table striped bordered hover responsive className='table-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>Id</th>\r\n                <th>Name</th>\r\n                <th>Picture</th>\r\n                <th>Price</th>\r\n                <th>BRAND</th>\r\n                <th>Reviews</th>\r\n                <th>Edit</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {typeof products === 'object' &&\r\n                products.length > 0 &&\r\n                products.map((product) => (\r\n                  <tr key={product._id}>\r\n                    <td>{product._id}</td>\r\n                    <td>{product.name}</td>\r\n                    <td md={1}>\r\n                      <Image\r\n                        width={100}\r\n                        rounded\r\n                        src={product.image}\r\n                        fluid\r\n                        md={1}\r\n                      />\r\n                    </td>\r\n                    <td>${product.price}</td>\r\n                    <td>{product.brand}</td>\r\n                    <td>{product.numReviews} reviews</td>\r\n                    <td>\r\n                      <LinkContainer to={`/admin/products/${product._id}/edit`}>\r\n                        <Button variant='light' className='btn-sm'>\r\n                          <span className='fas fa-edit'></span>\r\n                        </Button>\r\n                      </LinkContainer>\r\n                      <Button\r\n                        variant='danger'\r\n                        className='btn-sm'\r\n                        onClick={() => deleteProductHandler(product._id)}\r\n                      >\r\n                        <span className='fas fa-trash'></span>\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n            </tbody>\r\n          </Table>\r\n          {pages > 1 && <Paginate page={page} pages={pages} isAdmin={true} />}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductsList;\r\n","import React, { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Table, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/global/Message.jsx';\r\nimport Loader from '../components/global/Loader/Loading.jsx';\r\nimport Paginate from '../components/global/Paginate.jsx';\r\nimport { getAllOrdersAction } from '../actions/orderActions';\r\n\r\nconst OrdersList = ({ history, match }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const pageNumber = match.params.pageNumber;\r\n\r\n  //? getting logged in user to check if he is admin\r\n  const loginUser = useSelector((s) => s.loginUser);\r\n  const { userInfo = {} } = loginUser;\r\n  //? getting products list\r\n  const getAllOrders = useSelector((s) => s.getAllOrders);\r\n  const { orders = [], loading = true, err = '', page, pages } = getAllOrders;\r\n\r\n  useEffect(() => {\r\n    if (userInfo && userInfo.role === 'admin') {\r\n      dispatch(getAllOrdersAction(pageNumber));\r\n    } else {\r\n      history.push('/login');\r\n    }\r\n  }, [dispatch, history, pageNumber, userInfo]);\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col>\r\n          <h1>Orders</h1>\r\n        </Col>\r\n      </Row>\r\n\r\n      {loading ? (\r\n        <Loader />\r\n      ) : err ? (\r\n        <Message variant='danger'>{err}</Message>\r\n      ) : !(typeof orders === 'object' && orders.length > 0) ? (\r\n        <Message>No Orders yet</Message>\r\n      ) : (\r\n        <>\r\n          <Table striped bordered hover responsive className='table-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>Id</th>\r\n                <th>USER</th>\r\n                <th>DATE</th>\r\n                <th>TOTAL Price</th>\r\n                <th>PAID</th>\r\n                <th>DELIVERED</th>\r\n                <th>Details</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {typeof orders === 'object' &&\r\n                orders.length > 0 &&\r\n                orders.map((order) => (\r\n                  <tr key={order._id}>\r\n                    <td>{order._id}</td>\r\n                    <td>{order.user}</td>\r\n                    <td>{order.createdAt}</td>\r\n                    <td>${order.totalPrice}</td>\r\n                    <td>\r\n                      {order.isPaid ? (\r\n                        <Message variant='success'>Yes</Message>\r\n                      ) : (\r\n                        <Message variant='danger'>No</Message>\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      {order.isDelivered ? (\r\n                        <Message variant='success'>Yes</Message>\r\n                      ) : (\r\n                        <Message variant='danger'>No</Message>\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      <LinkContainer to={`/order/${order._id}`}>\r\n                        <Button variant='light' className='btn-sm'>\r\n                          <span className='fas fa-hand-paper'></span>\r\n                        </Button>\r\n                      </LinkContainer>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n            </tbody>\r\n          </Table>\r\n          <Paginate\r\n            page={page}\r\n            pages={pages}\r\n            isAdmin={true}\r\n            link='orders_list'\r\n          />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrdersList;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n// import { userDetailsAction } from '../actions/userActions';\r\nimport { Form, Row, Col, Button } from 'react-bootstrap';\r\nimport Loading from '../components/global/Loader/Loading.jsx';\r\nimport Message from '../components/global/Message.jsx';\r\n// import { userUpdateProfileAction } from '../actions/userActions';\r\nimport {\r\n  updateUsersByIdAction,\r\n  getUsersByIdAction,\r\n} from '../actions/userActions.js';\r\n\r\nconst UserEdit = ({ history, match }) => {\r\n  const userId = match.params.id;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  // const loginUser = useSelector((s) => s.loginUser);\r\n  // const { userInfo = {} } = loginUser;\r\n\r\n  const getUser = useSelector((s) => s.getUser);\r\n  const { loading = true, user = { _id: '' }, err = '' } = getUser;\r\n\r\n  const userUpdateProfile = useSelector((s) => s.updateUser);\r\n  const {\r\n    success,\r\n    loading: updateLoading,\r\n    err: updateErr = '',\r\n  } = userUpdateProfile;\r\n\r\n  const [currentUserDetails, setCurrentUserDetails] = useState({\r\n    name: '',\r\n    email: '',\r\n    role: '',\r\n  });\r\n\r\n  // const [dataChanged, setDataChanged] = useState(false);\r\n\r\n  const updateHandler = (e) => {\r\n    e.preventDefault();\r\n    //! Update handler\r\n    dispatch(updateUsersByIdAction(userId, currentUserDetails));\r\n  };\r\n\r\n  const handleUserDataChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setCurrentUserDetails({ ...currentUserDetails, [name]: value });\r\n    //! try to add this future\r\n    // if (\r\n    //   currentUserDetails.name === userInfo.name &&\r\n    //   currentUserDetails.password === userInfo.password\r\n    // ) {\r\n    //   setDataChanged(false);\r\n    // } else {\r\n    //   setDataChanged(true);\r\n    // }\r\n  };\r\n  useEffect(() => {\r\n    if (!user._id || user._id !== userId) {\r\n      // console.log('NO USER ID OR IDS ARE not equal');\r\n      dispatch(getUsersByIdAction(userId));\r\n      // dispatch(getMyOrdersAction());\r\n    } else {\r\n      setCurrentUserDetails({\r\n        name: user.name,\r\n        email: user.email,\r\n        role: user.role,\r\n      });\r\n    }\r\n  }, [dispatch, user._id, user.email, user.name, user.role, userId]);\r\n  return (\r\n    <>\r\n      {success ? <Message variant='success'>Profile updated </Message> : null}\r\n      {updateErr ? <Message variant='danger'>{updateErr}</Message> : null}\r\n      {updateLoading ? <Loading /> : null}\r\n      {loading ? (\r\n        <>\r\n          <Loading />\r\n        </>\r\n      ) : err ? (\r\n        <Message variant='danger'>{err}</Message>\r\n      ) : (\r\n        <>\r\n          <Row>\r\n            <Col md={3}>\r\n              <h1>Update User</h1>\r\n              <Form onSubmit={updateHandler}>\r\n                <Form.Group controlId='name'>\r\n                  <Form.Label>Name</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='Enter User Name'\r\n                    name='name'\r\n                    value={currentUserDetails.name}\r\n                    onChange={(e) => handleUserDataChange(e)}\r\n                    required\r\n                  ></Form.Control>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='email'>\r\n                  <Form.Label>Email Address</Form.Label>\r\n                  <Form.Control\r\n                    type='email'\r\n                    placeholder='Enter User Email'\r\n                    name='email'\r\n                    value={currentUserDetails.email}\r\n                    onChange={(e) => handleUserDataChange(e)}\r\n                    required\r\n                  ></Form.Control>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='role'>\r\n                  <Form.Label>User Role</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='Enter User Role'\r\n                    name='role'\r\n                    value={currentUserDetails.role}\r\n                    onChange={(e) => handleUserDataChange(e)}\r\n                    required\r\n                  ></Form.Control>\r\n                </Form.Group>\r\n                <Button type='submit'>Update</Button>\r\n              </Form>\r\n            </Col>\r\n            <Col md={9}></Col>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserEdit;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport axios from 'axios';\r\nimport { uploadUrl } from '../constants/urls';\r\nimport { Form, Row, Col, Button } from 'react-bootstrap';\r\nimport Loading from '../components/global/Loader/Loading.jsx';\r\nimport Message from '../components/global/Message.jsx';\r\nimport {\r\n  productDetailsAction,\r\n  updateProductByIdAction,\r\n} from '../actions/productActions.js';\r\nimport { UPDATE_PRODUCT_RESET } from '../constants/productConstants';\r\n\r\nconst ProductEdit = ({ history, match }) => {\r\n  const productId = match.params.id;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const loginUser = useSelector((s) => s.loginUser);\r\n  const { userInfo = {} } = loginUser;\r\n\r\n  const productDetails = useSelector((s) => s.productDetails);\r\n  const { loading = true, product = { _id: '' }, err = '' } = productDetails;\r\n\r\n  const updateProduct = useSelector((s) => s.updateProduct);\r\n  const {\r\n    success,\r\n    loading: updateLoading,\r\n    err: updateErr = '',\r\n  } = updateProduct;\r\n\r\n  const [currentProductDetails, setCurrentProductDetails] = useState({\r\n    name: '',\r\n    price: 0,\r\n    image: '',\r\n    brand: '',\r\n    category: '',\r\n    countInStock: '',\r\n    description: '',\r\n  });\r\n\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  // const [dataChanged, setDataChanged] = useState(false);\r\n\r\n  const updateHandler = (e) => {\r\n    e.preventDefault();\r\n    //! Update handler\r\n    dispatch(updateProductByIdAction(productId, currentProductDetails));\r\n  };\r\n\r\n  const handleProductDataChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setCurrentProductDetails({ ...currentProductDetails, [name]: value });\r\n    //! try to add this future\r\n    // if (\r\n    //   currentUserDetails.name === userInfo.name &&\r\n    //   currentUserDetails.password === userInfo.password\r\n    // ) {\r\n    //   setDataChanged(false);\r\n    // } else {\r\n    //   setDataChanged(true);\r\n    // }\r\n  };\r\n\r\n  const uploadFileHandler = async (e) => {\r\n    const file = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n    setUploading(true);\r\n\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.post(uploadUrl, formData, config);\r\n      setCurrentProductDetails({ ...currentProductDetails, image: data.path });\r\n      setUploading(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setUploading(false);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (!(userInfo && userInfo.role === 'admin')) {\r\n      history.push('/login');\r\n    }\r\n    if (!product._id || product._id !== productId) {\r\n      // console.log('NO USER ID OR IDS ARE not equal');\r\n      dispatch(productDetailsAction(productId));\r\n      // dispatch(getMyOrdersAction());\r\n    } else {\r\n      setCurrentProductDetails({\r\n        name: product.name,\r\n        price: product.price,\r\n        image: product.image,\r\n        brand: product.brand,\r\n        category: product.category,\r\n        countInStock: product.countInStock,\r\n        description: product.description,\r\n      });\r\n    }\r\n    return () => {\r\n      dispatch({ type: UPDATE_PRODUCT_RESET });\r\n    };\r\n    // eslint-disable-next-line\r\n  }, [dispatch, product._id, productId]);\r\n  return (\r\n    <>\r\n      {success ? <Message variant='success'>Product updated </Message> : null}\r\n      {updateErr ? <Message variant='danger'>{updateErr}</Message> : null}\r\n      {updateLoading ? <Loading /> : null}\r\n      {loading ? (\r\n        <>\r\n          <Loading />\r\n        </>\r\n      ) : err ? (\r\n        <Message variant='danger'>{err}</Message>\r\n      ) : (\r\n        <>\r\n          <Row>\r\n            <Col md={12}>\r\n              <h1>Update Product</h1>\r\n              <Form onSubmit={updateHandler}>\r\n                <Form.Group controlId='name'>\r\n                  <Form.Label>Name</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='Enter Product Name'\r\n                    name='name'\r\n                    value={currentProductDetails.name}\r\n                    onChange={(e) => handleProductDataChange(e)}\r\n                    required\r\n                  ></Form.Control>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='price'>\r\n                  <Form.Label>Price</Form.Label>\r\n                  <Form.Control\r\n                    type='number'\r\n                    placeholder='Enter Product Price'\r\n                    name='price'\r\n                    value={currentProductDetails.price}\r\n                    onChange={(e) => handleProductDataChange(e)}\r\n                    required\r\n                  ></Form.Control>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='image'>\r\n                  <Form.Label>Image</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='Enter Product Image Url'\r\n                    name='image'\r\n                    value={currentProductDetails.image}\r\n                    onChange={(e) => handleProductDataChange(e)}\r\n                    required\r\n                  ></Form.Control>\r\n                  <Form.File\r\n                    id='image-file'\r\n                    label='Choose file'\r\n                    custom\r\n                    onChange={uploadFileHandler}\r\n                  ></Form.File>\r\n                  {uploading && <Loading />}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='brand'>\r\n                  <Form.Label>Brand</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='Enter Product Brand'\r\n                    name='brand'\r\n                    value={currentProductDetails.brand}\r\n                    onChange={(e) => handleProductDataChange(e)}\r\n                    required\r\n                  ></Form.Control>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='category'>\r\n                  <Form.Label>Category</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='Enter Product Category'\r\n                    name='category'\r\n                    value={currentProductDetails.category}\r\n                    onChange={(e) => handleProductDataChange(e)}\r\n                    required\r\n                  ></Form.Control>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='countInStock'>\r\n                  <Form.Label>Count In Stock</Form.Label>\r\n                  <Form.Control\r\n                    type='number'\r\n                    placeholder='Enter Product Count In Stock'\r\n                    name='countInStock'\r\n                    value={currentProductDetails.countInStock}\r\n                    onChange={(e) => handleProductDataChange(e)}\r\n                    required\r\n                  ></Form.Control>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId='description'>\r\n                  <Form.Label>Description</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='Enter Product Description'\r\n                    name='description'\r\n                    value={currentProductDetails.description}\r\n                    onChange={(e) => handleProductDataChange(e)}\r\n                    required\r\n                  ></Form.Control>\r\n                </Form.Group>\r\n\r\n                <Button type='submit'>Update</Button>\r\n              </Form>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductEdit;\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Row, Col, ListGroup, Image, Card, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/global/Message.jsx';\r\nimport {\r\n  getOrderDetailsAction,\r\n  removeCreateOrder,\r\n  deliverOrderAction,\r\n} from '../actions/orderActions';\r\nimport qString from 'query-string';\r\nimport Loading from '../components/global/Loader/Loading.jsx';\r\n\r\nconst Orders = ({ location, match }) => {\r\n  const dispatch = useDispatch();\r\n  const id = match.params.id;\r\n  const getOrderDetails = useSelector((s) => s.getOrderDetails);\r\n  const { order = {}, loading = true, err = '' } = getOrderDetails;\r\n\r\n  const loginUser = useSelector((s) => s.loginUser);\r\n  const { userInfo = {} } = loginUser;\r\n\r\n  const handleDeliverProduct = () => {\r\n    //! DISPATCH DELIVER PRODUCT\r\n    dispatch(deliverOrderAction(order._id));\r\n    dispatch(getOrderDetailsAction(id));\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getOrderDetailsAction(id));\r\n    const queryString = qString.parse(location.search);\r\n    if (location.search && queryString.emptyCart === 'true') {\r\n      dispatch(removeCreateOrder());\r\n    }\r\n  }, [dispatch, id, location]);\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Loading />\r\n      ) : err ? (\r\n        <Message variant='danger'>{err}</Message>\r\n      ) : (\r\n        <>\r\n          <h1>Order {order._id}</h1>\r\n          <Row>\r\n            <Col md={8}>\r\n              <ListGroup variant='flush'>\r\n                <ListGroup.Item>\r\n                  <h2>Shipping</h2>\r\n                  <strong>Name : </strong>\r\n                  {(order.user && order.user.name) || 'DELETED USER'}\r\n                  <br />\r\n                  <strong>Email : </strong>\r\n                  <a\r\n                    href={`mailto:${\r\n                      (order.user && order.user.email) || 'USERDeleted'\r\n                    }`}\r\n                  >\r\n                    {order.user && order.user.email}\r\n                  </a>\r\n                  <p>\r\n                    <strong>Address : </strong>\r\n                    {order.shippingAddress.address},{order.shippingAddress.city}\r\n                    ,{order.shippingAddress.postalCode},\r\n                    {order.shippingAddress.country}\r\n                  </p>\r\n                  {order.isDelivered ? (\r\n                    <Message variant='success'>\r\n                      Delivered on {order.deliveredAt}\r\n                    </Message>\r\n                  ) : (\r\n                    <Message variant='danger'> Not Delivered Yet</Message>\r\n                  )}\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <h2>Payment Method</h2>\r\n                  <p>\r\n                    <strong>Method : </strong>\r\n                    {order.paymentMethod}\r\n                  </p>\r\n\r\n                  {order.isPaid ? (\r\n                    <Message variant='success'>Paid on {order.paidAt}</Message>\r\n                  ) : (\r\n                    <Message variant='danger'> Not Paid Yet</Message>\r\n                  )}\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <h2>Order Items</h2>\r\n                  {order.orderItems.length === 0 ? (\r\n                    <Message>Your cart is empty</Message>\r\n                  ) : (\r\n                    <ListGroup variant='flush'>\r\n                      {order.orderItems.map((item, index) => (\r\n                        <ListGroup.Item key={index}>\r\n                          <Row>\r\n                            <Col md={1}>\r\n                              <Image\r\n                                src={item.product && item.product.image}\r\n                                alt={item.product && item.product.name}\r\n                                fluid\r\n                                rounded\r\n                              />\r\n                            </Col>\r\n                            <Col>\r\n                              <Link\r\n                                to={`/product/${\r\n                                  item.product && item.product._id\r\n                                }`}\r\n                              >\r\n                                {item.product && item.product.name}\r\n                              </Link>\r\n                            </Col>\r\n                            <Col md={4}>\r\n                              {item.quantity} x $\r\n                              {item.product && item.product.price} = $\r\n                              {item.quantity *\r\n                                (item.product && item.product.price)}\r\n                            </Col>\r\n                          </Row>\r\n                        </ListGroup.Item>\r\n                      ))}\r\n                    </ListGroup>\r\n                  )}\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Card>\r\n                <ListGroup variant='flush'>\r\n                  <ListGroup.Item>\r\n                    <h2>Order Summary</h2>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Items Price</Col>\r\n                      <Col>${order.itemsPrice}</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Shipping Price</Col>\r\n                      <Col>${order.shippingPrice}</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Tax Price</Col>\r\n                      <Col>${order.taxPrice}</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Total Price</Col>\r\n                      <Col>${order.totalPrice}</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                  {userInfo && userInfo.role === 'admin' && !order.isDelivered && (\r\n                    <ListGroup.Item>\r\n                      <Row className='text-center'>\r\n                        <Button\r\n                          onClick={handleDeliverProduct}\r\n                          className='btn-block'\r\n                        >\r\n                          Make Delivered ?\r\n                        </Button>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                  )}\r\n                </ListGroup>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import React from 'react';\r\nimport { Container } from 'react-bootstrap';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <Container className='text-center footer'>\r\n      Created By Amr M Hassan <br />\r\n      CopyRights &copy; 2020\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport NavBar from './components/global/Header.jsx';\r\nimport Home from './views/Home.jsx';\r\nimport Product from './views/Product.jsx';\r\nimport Cart from './views/Cart.jsx';\r\nimport LogIn from './views/LogIn.jsx';\r\nimport Register from './views/Register.jsx';\r\nimport Profile from './views/Profile.jsx';\r\nimport Shipping from './views/Shipping.jsx';\r\nimport PaymentMethod from './views/PaymentMethod.jsx';\r\nimport PlaceOrder from './views/PlaceOrder.jsx';\r\nimport UserList from './views/UsersList.jsx';\r\nimport ProductsList from './views/ProductsList.jsx';\r\nimport OrdersList from './views/OrdersList.jsx';\r\nimport UserEdit from './views/UserEdit.jsx';\r\nimport ProductEdit from './views/ProductEdit.jsx';\r\nimport Order from './views/Orders.jsx';\r\nimport Footer from './components/global/Footer.jsx';\r\nimport { Container } from 'react-bootstrap';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\n// import SignUp from './components/SignUp.jsx';\r\n\r\nconst App = (props) => {\r\n  return (\r\n    <Router>\r\n      <NavBar></NavBar>\r\n      <Container>\r\n        <main className='p-3'>\r\n          <Route path='/profile' component={Profile} />\r\n          <Route path='/login' component={LogIn} />\r\n          <Route path='/shipping' component={Shipping} />\r\n          <Route path='/payment' component={PaymentMethod} />\r\n          <Route path='/placeorder' component={PlaceOrder} />\r\n          <Route path='/admin/users_list/:pageNumber' component={UserList} />\r\n          <Route\r\n            path='/admin/products_list/:pageNumber'\r\n            component={ProductsList}\r\n          />\r\n          <Route path='/admin/orders_list/:pageNumber' component={OrdersList} />\r\n          <Route path='/admin/user_edit/:id' component={UserEdit} />\r\n          <Route path='/admin/products/:id/edit' component={ProductEdit} />\r\n          <Route path='/order/:id' component={Order} />\r\n          <Route path='/register' component={Register} />\r\n          <Route path='/product/:id' component={Product} />\r\n          <Route path='/cart/:id?' component={Cart} />\r\n          <Route path='/search/:keyword' component={Home} exact />\r\n          <Route path='/page/:pageNumber' component={Home} exact />\r\n          <Route\r\n            path='/search/:keyword/page/:pageNumber'\r\n            component={Home}\r\n            exact\r\n          />\r\n          <Route path='/' component={Home} exact />\r\n        </main>\r\n      </Container>\r\n\r\n      <Footer />\r\n    </Router>\r\n  );\r\n};\r\nexport default App;\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport {\r\n  productListReducer,\r\n  productDetailsReducer,\r\n  deleteProductReducer,\r\n  createProductReducer,\r\n  updateProductReducer,\r\n  topProductsReducer,\r\n} from './reducers/productsReducers';\r\nimport { cartReducer } from './reducers/cartReducers';\r\nimport {\r\n  loginUserReducer,\r\n  registerUserReducer,\r\n  userDetailsReducer,\r\n  userUpdateProfileReducer,\r\n  getUsersListReducer,\r\n  deleteUserReducer,\r\n  updateUserByIdReducer,\r\n  getUserByIdReducer,\r\n} from './reducers/userReducers';\r\n\r\nimport {\r\n  createOrderReducer,\r\n  getOrderDetailsReducer,\r\n  getMyOrdersReducer,\r\n  getAllOrdersReducer,\r\n  deliverOrderReducer,\r\n} from './reducers/orderReducers';\r\n\r\nimport {\r\n  productCreateReviewReducer,\r\n  getReviewsForProductReducer,\r\n} from './reducers/reviewsReducers';\r\n\r\nconst reducer = combineReducers({\r\n  productList: productListReducer,\r\n  productDetails: productDetailsReducer,\r\n  cart: cartReducer,\r\n  loginUser: loginUserReducer,\r\n  registerUser: registerUserReducer,\r\n  userDetails: userDetailsReducer,\r\n  userUpdateProfile: userUpdateProfileReducer,\r\n  createOrder: createOrderReducer,\r\n  getOrderDetails: getOrderDetailsReducer,\r\n  usersList: getUsersListReducer,\r\n  myOrders: getMyOrdersReducer,\r\n  deleteUser: deleteUserReducer,\r\n  updateUser: updateUserByIdReducer,\r\n  getUser: getUserByIdReducer,\r\n  deleteProduct: deleteProductReducer,\r\n  createProduct: createProductReducer,\r\n  updateProduct: updateProductReducer,\r\n  getAllOrders: getAllOrdersReducer,\r\n  deliverOrder: deliverOrderReducer,\r\n  productCreateReview: productCreateReviewReducer,\r\n  getReviewsForProduct: getReviewsForProductReducer,\r\n  topProducts: topProductsReducer,\r\n});\r\n\r\nconst cartItemsFromStorage = localStorage.getItem('cartItems')\r\n  ? JSON.parse(localStorage.getItem('cartItems'))\r\n  : [];\r\nconst userInfoFromStorage = localStorage.getItem('userInfo')\r\n  ? JSON.parse(localStorage.getItem('userInfo'))\r\n  : null;\r\nconst userTokenFromStorage = localStorage.getItem('userToken')\r\n  ? JSON.parse(localStorage.getItem('userToken'))\r\n  : null;\r\nconst shippingAddressFromStorage = localStorage.getItem('shippingAddress')\r\n  ? JSON.parse(localStorage.getItem('shippingAddress'))\r\n  : {};\r\nconst paymentMethodFromStorage = localStorage.getItem('paymentMethod')\r\n  ? JSON.parse(localStorage.getItem('paymentMethod'))\r\n  : {};\r\n\r\nlet initialState = {\r\n  productList: [],\r\n  cart: {\r\n    cartItems: cartItemsFromStorage,\r\n    shippingAddress: shippingAddressFromStorage,\r\n    paymentMethod: paymentMethodFromStorage,\r\n  },\r\n\r\n  loginUser: { userInfo: userInfoFromStorage, userToken: userTokenFromStorage },\r\n};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  initialState,\r\n  composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import * as c from '../constants/productConstants';\r\n\r\nexport const productListReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.PRODUCT_LIST_REQUEST:\r\n      return { ...state, loading: true, products: [] };\r\n    case c.PRODUCT_LIST_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        products: action.payload.data,\r\n        pages: action.payload.pages,\r\n        page: action.payload.page,\r\n      };\r\n    case c.PRODUCT_LIST_FAIL:\r\n      return { ...state, loading: false, err: action.payload };\r\n    case c.SET_KEYWORD:\r\n      return { ...state, keyword: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productDetailsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.PRODUCT_DETAILS_REQUEST:\r\n      return { loading: true };\r\n    case c.PRODUCT_DETAILS_SUCCESS:\r\n      return { loading: false, product: action.payload };\r\n    case c.PRODUCT_DETAILS_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const deleteProductReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.DELETE_PRODUCT_REQUEST:\r\n      return { loading: true };\r\n    case c.DELETE_PRODUCT_SUCCESS:\r\n      return { loading: false, success: true, product: action.payload };\r\n    case c.DELETE_PRODUCT_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    case c.DELETE_PRODUCT_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const createProductReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.CREATE_PRODUCT_REQUEST:\r\n      return { loading: true };\r\n    case c.CREATE_PRODUCT_SUCCESS:\r\n      return { loading: false, success: true, product: action.payload };\r\n    case c.CREATE_PRODUCT_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    case c.CREATE_PRODUCT_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const updateProductReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.UPDATE_PRODUCT_REQUEST:\r\n      return { loading: true };\r\n    case c.UPDATE_PRODUCT_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        success: true,\r\n        product: action.payload,\r\n      };\r\n    case c.UPDATE_PRODUCT_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    case c.UPDATE_PRODUCT_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const topProductsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.TOP_PRODUCTS_REQUEST:\r\n      return { loading: true };\r\n    case c.TOP_PRODUCTS_SUCCESS:\r\n      return { loading: false, products: action.payload };\r\n    case c.TOP_PRODUCTS_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as c from '../constants/cartConstants';\r\n\r\nexport const cartReducer = (\r\n  state = { cartItems: [], shippingAddress: {} },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case c.CART_ADD_ITEM:\r\n      const item = { ...action.payload };\r\n      const existItem = state.cartItems.find((x) => x.product === item.product);\r\n      // 1] if the item exist then it will be in [item] which have the newly added item\r\n      // 2] existItem have the old information of the added item id\r\n      if (existItem) {\r\n        return {\r\n          ...state,\r\n          cartItems: state.cartItems.map((x) =>\r\n            x.product === item.product ? item : x\r\n          ),\r\n        };\r\n      } else {\r\n        return { ...state, cartItems: [...state.cartItems, item] };\r\n      }\r\n\r\n    case c.CART_REMOVE_ITEM:\r\n      return {\r\n        ...state,\r\n        cartItems: state.cartItems.filter((x) => x.product !== action.payload),\r\n      };\r\n\r\n    case c.CART_SAVE_SHIPPING_ADDRESS:\r\n      return { ...state, shippingAddress: action.payload };\r\n    case c.CART_SAVE_PAYMENT_METHOD:\r\n      return { ...state, paymentMethod: action.payload };\r\n    case c.EMPTY_CARD:\r\n      console.log('REMOVING CARD');\r\n      return { cartItems: [], shippingAddress: {} };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as c from '../constants/userConstants';\r\n\r\nexport const loginUserReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.USER_LOGIN_REQUEST:\r\n      return { loading: true };\r\n    case c.USER_LOGIN_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        userInfo: action.payload.user,\r\n        userToken: action.payload.token,\r\n      };\r\n    case c.USER_LOGIN_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    case c.USER_LOGOUT:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const registerUserReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.USER_REGISTER_REQUEST:\r\n      return { loading: true };\r\n    case c.USER_REGISTER_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        userInfo: action.payload.user,\r\n        userToken: action.payload.token,\r\n      };\r\n    case c.USER_REGISTER_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const userDetailsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.USER_DETAILS_REQUEST:\r\n      return { loading: true };\r\n    case c.USER_DETAILS_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        userInfo: action.payload,\r\n      };\r\n    case c.USER_DETAILS_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const userUpdateProfileReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.USER_UPDATE_PROFILE_REQUEST:\r\n      return { loading: true };\r\n    case c.USER_UPDATE_PROFILE_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        success: true,\r\n        userInfo: action.payload,\r\n      };\r\n    case c.USER_UPDATE_PROFILE_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getUsersListReducer = (state = { users: [] }, action) => {\r\n  switch (action.type) {\r\n    case c.USERS_LIST_REQUEST:\r\n      return { loading: true };\r\n    case c.USERS_LIST_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        users: action.payload.data,\r\n        page: action.payload.page,\r\n        pages: action.payload.pages,\r\n      };\r\n    case c.USERS_LIST_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const deleteUserReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.USERS_DELETE_REQUEST:\r\n      return { loading: true };\r\n    case c.USERS_DELETE_SUCCESS:\r\n      return { success: true, loading: false, user: action.payload };\r\n    case c.USERS_DELETE_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const updateUserByIdReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.UPDATE_USER_BY_ID_REQUEST:\r\n      return { loading: true };\r\n    case c.UPDATE_USER_BY_ID_SUCCESS:\r\n      return { loading: false, success: true, user: action.payload };\r\n    case c.UPDATE_USER_BY_ID_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const getUserByIdReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.GET_USER_BY_ID_REQUEST:\r\n      return { loading: true };\r\n    case c.GET_USER_BY_ID_SUCCESS:\r\n      return { loading: false, user: action.payload };\r\n    case c.GET_USER_BY_ID_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as c from '../constants/orderConstants.js';\r\n\r\nexport const createOrderReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.ORDER_CREATE_REQUEST:\r\n      return { loading: true };\r\n    case c.ORDER_CREATE_SUCCESS:\r\n      return { loading: false, success: true, order: action.payload };\r\n    case c.ORDER_CREATE_FAIL:\r\n      return { loading: false, err: action.payload };\r\n\r\n    case c.REMOVE_CREATE_ORDER:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getOrderDetailsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.ORDER_DETAILS_REQUEST:\r\n      return { loading: true };\r\n    case c.ORDER_DETAILS_SUCCESS:\r\n      return { loading: false, order: action.payload };\r\n    case c.ORDER_DETAILS_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const getMyOrdersReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.MY_ORDERS_LIST_REQUEST:\r\n      return { loading: true };\r\n    case c.MY_ORDERS_LIST_SUCCESS:\r\n      return { loading: false, orders: action.payload };\r\n    case c.MY_ORDERS_LIST_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const getAllOrdersReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.ORDERS_LIST_REQUEST:\r\n      return { loading: true };\r\n    case c.ORDERS_LIST_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        orders: action.payload.data,\r\n        page: action.payload.page,\r\n        pages: action.payload.pages,\r\n      };\r\n    case c.ORDERS_LIST_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const deliverOrderReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.ORDERS_DELIVER_REQUEST:\r\n      return { loading: true };\r\n    case c.ORDERS_DELIVER_SUCCESS:\r\n      return { loading: false, order: action.payload };\r\n    case c.ORDERS_DELIVER_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as c from '../constants/reviewsConstants';\r\n\r\nexport const productCreateReviewReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.PRODUCT_CREATE_REVIEW_REQUEST:\r\n      return { loading: true };\r\n    case c.PRODUCT_CREATE_REVIEW_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case c.PRODUCT_CREATE_REVIEW_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    case c.PRODUCT_CREATE_REVIEW_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getReviewsForProductReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case c.REVIEW_GET_REQUEST:\r\n      return { loading: true };\r\n    case c.REVIEW_GET_SUCCESS:\r\n      return { loading: false, reviews: action.payload };\r\n    case c.REVIEW_GET_FAIL:\r\n      return { loading: false, err: action.payload };\r\n    default:\r\n      return {};\r\n  }\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './bootstrap.min.css';\r\nimport './libs/Font-Awesome-pro/css/pro-v4-shims.min.css';\r\nimport './libs/Font-Awesome-pro/css/pro-v4-font-face.min.css';\r\nimport './libs/Font-Awesome-pro/css/pro.min.css';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}