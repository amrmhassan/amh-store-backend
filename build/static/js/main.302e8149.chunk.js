/*! For license information please see main.302e8149.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{115:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),c=a.n(l),o=a(15),u=a(147),s=a(139),i=a(140),m=a(144),d=a(17),E=a(6),p=a(7),g=a.n(p),f=a(9),h=a(10),v=a.n(h),S="https://amh-store.herokuapp.com",y="".concat(S,"/api/v1/users"),_="".concat(S,"/api/v1/products"),b="".concat(S,"/api/v1/users/login"),R="".concat(S,"/api/v1/users/signup"),I="".concat(S,"/api/v1/users/me"),O="".concat(S,"/api/v1/users/updateMe"),C="".concat(S,"/api/v1/orders"),T="".concat(S,"/api/v1/orders/myOrders"),U="".concat(S,"/api/v1/upload"),D="".concat(S,"/api/v1/reviews"),L=function(e){return function(){var t=Object(f.a)(g.a.mark((function t(a,n){var r,l,c,o,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().loginUser.userToken,l="Bearer ".concat(r),a({type:"USERS_LIST_REQUEST"}),c={headers:{Authorization:l}},t.next=7,v.a.get("".concat(y,"/?pageNumber=").concat(e),c);case 7:o=t.sent,u=o.data,a({type:"USERS_LIST_SUCCESS",payload:u}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"USERS_LIST_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()},A=a(13),P=a(145),k=a(77),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(f.a)(g.a.mark((function t(a,n){var r,l,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_LIST_REQUEST"}),r=n().productList.keyword||"",t.next=5,v.a.get("".concat(_,"/?keyword=").concat(r,"&pageNumber=").concat(e));case 5:l=t.sent,c=l.data,a({type:"PRODUCT_LIST_SUCCESS",payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"PRODUCT_LIST_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(f.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_DETAILS_REQUEST"}),t.next=4,v.a.get("".concat(_,"/").concat(e));case 4:n=t.sent,r=n.data,a({type:"PRODUCT_DETAILS_SUCCESS",payload:r.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PRODUCT_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(t){t({type:"SET_KEYWORD",payload:e})}},N=function(e){var t=e.history,a=Object(E.b)(),l=Object(n.useState)(""),c=Object(A.a)(l,2),o=c[0],u=c[1];return r.a.createElement(P.a,{onSubmit:function(e){e.preventDefault(),o.trim()?(a(x(o)),t.push("/search/".concat(o))):(a(x("")),t.push("/"))},inline:!0},r.a.createElement(P.a.Control,{type:"text",name:"q",onChange:function(e){return u(e.target.value)},placeholder:"Search products...",className:"mr-sm-2 ml-sm-5"}),r.a.createElement(k.a,{type:"submit",variant:"outline-success",className:"p-2"},"Search"))},F=function(e){e.history;var t=Object(E.c)((function(e){return e.loginUser})).userInfo,a=Object(E.b)();return r.a.createElement(u.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0},r.a.createElement(s.a,null,r.a.createElement("a",{href:"/"},r.a.createElement(u.a.Brand,null,"AMH Shop")),r.a.createElement(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(u.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(o.d,{render:function(e){var t=e.history;return r.a.createElement(N,{history:t})}}),r.a.createElement(i.a,{className:"ml-auto"},r.a.createElement(d.LinkContainer,{to:"/cart"},r.a.createElement(i.a.Link,null,r.a.createElement("span",{className:"fas fa-shopping-cart"})," Cart")),t?r.a.createElement(m.a,{title:t.name,id:"username"},r.a.createElement(d.LinkContainer,{to:"/profile"},r.a.createElement(m.a.Item,null,r.a.createElement("span",{className:"far fa-user"})," Profile")),r.a.createElement(m.a.Item,{onClick:function(){a((function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("userToken"),e({type:"USER_LOGOUT"})})),window.location.href="/"}},r.a.createElement("span",{className:"far fa-door-closed"}),"Logout")):r.a.createElement(d.LinkContainer,{to:"/login"},r.a.createElement(i.a.Link,null,r.a.createElement("span",{className:"fas fa-user"})," Log in")),t&&"admin"===t.role&&r.a.createElement(m.a,{title:"admin",id:"admin-menu"},r.a.createElement(d.LinkContainer,{to:"/admin/users_list/1"},r.a.createElement(m.a.Item,null,"Users")),r.a.createElement(d.LinkContainer,{to:"/admin/products_list/1"},r.a.createElement(m.a.Item,null,"Products")),r.a.createElement(d.LinkContainer,{to:"/admin/orders_list/1"},r.a.createElement(m.a.Item,null,"Orders")))))))},G=a(142),M=a(76),Y=a(149),Q=function(e){var t=e.rate,a=e.color;return r.a.createElement(r.a.Fragment,null,function(){for(var e=t,a=Math.floor(e),n=Math.round(e%1),r=[],l=0;l<a;l++)r.push(1);n&&r.push(.5);for(var c=0;c<5;c++)r[c]||(r[c]=0);return r}().map((function(e,t){return r.a.createElement("span",{key:t,className:"".concat(1===e?"fas fa-star":.5===e?"fas fa-star-half-alt":"far fa-star"," star"),style:{color:a}})})))};Q.defaultProps={color:"gold"};var B=Q,q=a(12),V=function(e){var t=e.product;return r.a.createElement(Y.a,{className:"my-3 p-3 rounded product"},r.a.createElement(q.Link,{to:"/product/".concat(t._id)},r.a.createElement(Y.a.Img,{src:t.image,variant:"top"})),r.a.createElement(Y.a.Body,null,r.a.createElement(q.Link,{to:"/product/".concat(t._id)},r.a.createElement(Y.a.Title,{as:"div"},r.a.createElement("strong",null,t.name))),r.a.createElement(Y.a.Text,{as:"div"},r.a.createElement("div",{className:"my-3",style:{position:"relative"}},r.a.createElement(B,{rate:t.rating}),r.a.createElement("span",{className:"ml-auto",style:{position:"absolute",right:"0"}},t.numReviews," reviews"))),r.a.createElement(Y.a.Text,{as:"h3"},"$",t.price)))},W=(a(115),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"cssload-dots"},r.a.createElement("div",{class:"cssload-dot"}),r.a.createElement("div",{class:"cssload-dot"}),r.a.createElement("div",{class:"cssload-dot"}),r.a.createElement("div",{class:"cssload-dot"}),r.a.createElement("div",{class:"cssload-dot"})),r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("defs",null,r.a.createElement("filter",{id:"goo"},r.a.createElement("feGaussianBlur",{in:"SourceGraphic",result:"blur",stdDeviation:"12"}),r.a.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0\t0 1 0 0 0\t0 0 1 0 0\t0 0 0 18 -7",result:"goo"})))))}),$=a(148),z=function(e){var t=e.variant,a=e.children;return r.a.createElement($.a,{variant:t},a)};z.defaultProps={variant:"info"};var J=z,H=a(31),K=a(150),X=function(e){var t=e.pages,a=e.page,n=e.isAdmin,l=void 0!==n&&n,c=e.keyword,o=void 0===c?"":c,u=e.link,s=void 0===u?"products_list":u;return t>1&&r.a.createElement(K.a,null,Object(H.a)(Array(t).keys()).map((function(e){return r.a.createElement(d.LinkContainer,{key:e+1,to:l?"/admin/".concat(s,"/").concat(e+1):o?"/search/".concat(o,"/page/").concat(e+1):"/page/".concat(e+1)},r.a.createElement(K.a.Item,{active:e+1===a},e+1))})))},Z=a(146),ee=a(141),te=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.topProducts})),a=t.loading,l=void 0===a||a,c=t.products,o=void 0===c?[]:c,u=t.err,s=void 0===u?"":u;return Object(n.useEffect)((function(){e(function(){var e=Object(f.a)(g.a.mark((function e(t,a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"TOP_PRODUCTS_REQUEST"}),e.next=4,v.a.get("".concat(_,"/getTopProducts"));case 4:n=e.sent,r=n.data.data,t({type:"TOP_PRODUCTS_SUCCESS",payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"TOP_PRODUCTS_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}())}),[e]),l?r.a.createElement(W,null):s?r.a.createElement(J,{variant:"danger"},s):r.a.createElement(Z.a,{pause:"hover",className:"bg-dark"},o.map((function(e){return r.a.createElement(Z.a.Item,{key:e._id},r.a.createElement(q.Link,{to:"/product/".concat(e._id)},r.a.createElement(ee.a,{src:e.image,alt:e.name,fluid:!0}),r.a.createElement(Z.a.Caption,{className:"carousel-caption"},r.a.createElement("h2",null,e.name,"(",e.price,")"))))})))},ae=a(29),ne=function(e){var t=e.match,a=Object(E.b)(),l=t.params.keyword,c=t.params.pageNumber||1,o=Object(E.c)((function(e){return e.productList})),u=o.loading,s=void 0===u||u,i=o.products,m=void 0===i?[]:i,d=o.err,p=void 0===d?"":d,g=o.page,f=o.pages;return Object(n.useEffect)((function(){a(j(c))}),[a,l,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,null,r.a.createElement("title",null,"AMH Store | Home")),!l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Top Products"),r.a.createElement(te,null)," ",r.a.createElement("br",null)),r.a.createElement("h3",null,"Latest products"),r.a.createElement(G.a,null,s?r.a.createElement(W,null):p?r.a.createElement("h2",{className:"alert alert-danger"},p):"object"===typeof m&&m.length>0?m.map((function(e){return r.a.createElement(M.a,{key:e._id,sm:12,md:6,lg:4,xl:3},r.a.createElement(V,{product:e,keyword:l||""}))})):r.a.createElement(J,null,"No products yet ")),r.a.createElement(X,{pages:f,page:g}))},re=a(151),le=function(e){return function(){var t=Object(f.a)(g.a.mark((function t(a,n){var r,l,c,o,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().loginUser.userToken,l="Bearer ".concat(r),a({type:"REVIEW_GET_REQUEST"}),c={headers:{Authorization:l}},t.next=7,v.a.get("".concat(D,"/").concat(e),c);case 7:o=t.sent,u=o.data.data,a({type:"REVIEW_GET_SUCCESS",payload:u}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"REVIEW_GET_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()},ce=function(e){var t=e.match,a=e.history,l=Object(E.b)(),c=Object(n.useState)(1),o=Object(A.a)(c,2),u=o[0],s=o[1],i=Object(n.useState)(1),m=Object(A.a)(i,2),d=m[0],p=m[1],h=Object(n.useState)(""),S=Object(A.a)(h,2),y=S[0],_=S[1],b=Object(n.useState)(!0),R=Object(A.a)(b,2),I=R[0],O=R[1],C=Object(E.c)((function(e){return e.productDetails})),T=C.product,U=void 0===T?{}:T,L=C.loading,j=void 0===L||L,x=C.err,N=void 0===x?"":x,F=Object(E.c)((function(e){return e.productCreateReview})),Q=F.loading,V=F.err,$=F.success,z=Object(E.c)((function(e){return e.getReviewsForProduct})),K=z.loading,X=z.err,Z=z.reviews,te=void 0===Z?[]:Z,ne=Object(E.c)((function(e){return e.loginUser})).userInfo,ce=void 0===ne?{}:ne;Object(n.useEffect)((function(){return te.map((function(e){return ce._id===e.user})).length>0?O(!1):O(!0),$&&(p(1),_(""),l({type:"PRODUCT_CREATE_REVIEW_REST"}),l(w(t.params.id)),l(le(t.params.id))),l(w(t.params.id)),l(le(t.params.id)),function(){p(1),_(""),l({type:"PRODUCT_CREATE_REVIEW_REST"})}}),[l,t.params.id,$,ce]);return r.a.createElement(r.a.Fragment,null,j?r.a.createElement(W,null):N?r.a.createElement(J,{message:N}):r.a.createElement(r.a.Fragment,null,r.a.createElement(q.Link,{style:{fontSize:"25px"},className:"btn btn-light fa fa-arrow-left my-3",to:"/"}),r.a.createElement(ae.a,null,r.a.createElement("title",null,U.name)),r.a.createElement(G.a,null,r.a.createElement(M.a,{md:6},r.a.createElement(ee.a,{src:U.image,alt:U.name,fluid:!0})),r.a.createElement(M.a,{md:3},r.a.createElement(re.a,{variant:"flush"},r.a.createElement(re.a.Item,null,r.a.createElement("h3",null,U.name)),r.a.createElement(re.a.Item,null,r.a.createElement(B,{rate:U.rating})),r.a.createElement(re.a.Item,null,"Price: $",U.price,r.a.createElement("span",{className:"ml-auto",style:{position:"absolute",right:"0"}},U.numReviews," reviews")),r.a.createElement(re.a.Item,null,"Description: ",U.description))),r.a.createElement(M.a,{md:3},r.a.createElement(Y.a,null,r.a.createElement(re.a,{variant:"flush"},r.a.createElement(re.a.Item,null,r.a.createElement(G.a,null,r.a.createElement(M.a,null,"Price:"),r.a.createElement(M.a,null,r.a.createElement("strong",null,"$",U.price)))),r.a.createElement(re.a.Item,null,r.a.createElement(G.a,null,r.a.createElement(M.a,null,"Status:"),r.a.createElement(M.a,{style:{color:U.countInStock>0?null:"red"}},r.a.createElement("strong",null,U.countInStock>0?"".concat(U.countInStock," In Stock"):"out of stock")))),U.countInStock>0?r.a.createElement(re.a.Item,null,r.a.createElement(G.a,null,r.a.createElement(M.a,null,"Quantity"),r.a.createElement(M.a,null,r.a.createElement(P.a.Control,{as:"select",value:u,onChange:function(e){return s(e.target.value)}},Object(H.a)(Array(U.countInStock).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)})))))):null,r.a.createElement(re.a.Item,null,r.a.createElement(G.a,null,r.a.createElement(k.a,{onClick:function(){a.push("/cart/".concat(t.params.id,"?quantity=").concat(u))},style:{cursor:U.countInStock?null:"no-drop"},disabled:!U.countInStock,className:"btn-block"},"Add To Cart"))))))),r.a.createElement(G.a,null,r.a.createElement(M.a,{md:6},r.a.createElement("h2",null,"Reviews"),r.a.createElement(re.a,{variant:"flush"},K?r.a.createElement(W,null):X?r.a.createElement(J,{variant:"danger"},X):null,0===te.length?r.a.createElement(J,null,"No Reviews"):te.map((function(e){return r.a.createElement(re.a.Item,{key:e._id},r.a.createElement("strong",null,e.user&&e.user.name||r.a.createElement("span",{style:{color:"red"}},"Deleted User")),r.a.createElement("br",null),r.a.createElement(B,{rate:e.rating})," ",r.a.createElement(r.a.Fragment,null,e.createdAt.substring(0,10)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,e.review))})),r.a.createElement(re.a.Item,null,ce&&"user"===ce.role?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Write customer review"),V?r.a.createElement(J,{variant:"danger"},V):null,Q?r.a.createElement(W,null):null,$?r.a.createElement(J,{variant:"success"},"Review submitted !"):null,I&&r.a.createElement(P.a,{onSubmit:function(e){e.preventDefault(),l(function(e,t){return function(){var a=Object(f.a)(g.a.mark((function a(n,r){var l,c,o,u,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l=r().loginUser.userToken,c="Bearer ".concat(l),n({type:"PRODUCT_CREATE_REVIEW_REQUEST"}),o={headers:{"Content-Type":"application/json",Authorization:c}},a.next=7,v.a.post("".concat(D,"/").concat(e),t,o);case 7:u=a.sent,s=u.data.data,n({type:"PRODUCT_CREATE_REVIEW_SUCCESS",payload:s}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n({type:"PRODUCT_CREATE_REVIEW_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e,t){return a.apply(this,arguments)}}()}(t.params.id,{review:y,rating:Number(d)})),l(le(t.params.id))}},r.a.createElement(P.a.Group,{controlId:"rating"},r.a.createElement(P.a.Label,null,"Rating"),r.a.createElement(P.a.Control,{as:"select",value:d,onChange:function(e){return p(e.target.value)}},r.a.createElement("option",{value:"1"},"1 - Poor"),r.a.createElement("option",{value:"2"},"2 - Fair"),r.a.createElement("option",{value:"3"},"3 - Good"),r.a.createElement("option",{value:"4"},"4 - Vary Good"),r.a.createElement("option",{value:"5"},"5 - Excellent"))),r.a.createElement(P.a.Group,{controlId:"review"},r.a.createElement(P.a.Label,null,"Review"),r.a.createElement(P.a.Control,{as:"textarea",row:"3",value:y,onChange:function(e){return _(e.target.value)}})),r.a.createElement(k.a,{type:"submit",variant:"primary"},"Submit"))):ce&&"admin"===ce.role?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Write customer review"),r.a.createElement(J,null,"Please",r.a.createElement(q.Link,{to:"/login"},r.a.createElement("strong",null," Log in ")),"to write a review"))))))))},oe=function(e,t){return function(){var a=Object(f.a)(g.a.mark((function a(n,r){var l,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.get("".concat(_,"/").concat(e));case 2:l=a.sent,c=l.data.data,n({type:"CART_ADD_ITEM",payload:{product:c._id,name:c.name,image:c.image,price:c.price,countInStock:c.countInStock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},ue=function(e){var t=e.match,a=e.location,l=e.history,c=Object(E.b)(),o=t.params.id,u=a.search.split("=")[1],s=Object(E.c)((function(e){return e.cart})).cartItems;Object(n.useEffect)((function(){o&&u&&c(oe(o,u))}),[c,o,u]);var i=function(e){c(function(e){return function(){var t=Object(f.a)(g.a.mark((function t(a,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(G.a,null,r.a.createElement(ae.a,null,r.a.createElement("title",null,"Your Cart")),r.a.createElement(M.a,{md:8},r.a.createElement("h1",null,"Shopping Cart"),0===s.length?r.a.createElement(J,null,"Your cart is empty"," ",r.a.createElement(q.Link,{style:{fontWeight:"bold"},to:"/"},"Go Back")):r.a.createElement(re.a,{variant:"flush"},s.map((function(e){return r.a.createElement(re.a.Item,{key:e.product},r.a.createElement(G.a,null,r.a.createElement(M.a,{sm:4,md:4,lg:3,xl:2},r.a.createElement(ee.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(M.a,{md:3},r.a.createElement(q.Link,{to:"/product/".concat(e.product)},e.name)),r.a.createElement(M.a,{md:2}," $",e.price),r.a.createElement(M.a,{md:2},r.a.createElement(P.a.Control,{as:"select",value:e.quantity,onChange:function(t){c(oe(e.product,Number(t.target.value))),l.push("/cart")}},Object(H.a)(Array(e.countInStock).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)})))),r.a.createElement(M.a,{md:2},r.a.createElement(k.a,{type:"button",variant:"light",onClick:function(){return i(e.product)}},r.a.createElement("span",{className:"fas fa-trash"})))))})))),r.a.createElement(M.a,{md:4},r.a.createElement(Y.a,null,r.a.createElement(re.a,{variant:"flush"},r.a.createElement(re.a.Item,null,r.a.createElement("h3",null,"SubTotal (",s.reduce((function(e,t){return e+1*t.quantity}),0),") items"),"$",s.reduce((function(e,t){return e+1*t.quantity*1*t.price*1}),0).toFixed(2)),r.a.createElement(re.a.Item,null,r.a.createElement(k.a,{type:"button",className:"btn-block",disabled:0===s.length,onClick:function(){l.push("/login?redirect=shipping")}},"CheckOut"))))))},se=a(20),ie=a(8),me=function(e){var t=e.children;return r.a.createElement(s.a,null,r.a.createElement(G.a,{className:"justify-content-md-center"},r.a.createElement(M.a,{xs:12,md:6},t)))},de=function(e){var t=e.history,a=(e.match,e.location),l=Object(n.useState)({email:"",password:""}),c=Object(A.a)(l,2),o=c[0],u=c[1],s=Object(E.b)(),i=Object(E.c)((function(e){return e.loginUser})),m=i.loading,d=i.err,p=i.userInfo,h=a.search?a.search.split("=")[1]:"/";Object(n.useEffect)((function(){p&&t.push(h)}),[t,p,h]);var S=function(e){var t=e.target,a=t.name,n=t.value;u(Object(ie.a)(Object(ie.a)({},o),{},Object(se.a)({},a,n)))};return r.a.createElement(me,null,r.a.createElement(ae.a,null,r.a.createElement("title",null,"AMH Store | Login")),r.a.createElement("h1",null,"Sign In"),d?r.a.createElement(J,{variant:"danger"},d):null,m?r.a.createElement(W,null):null,r.a.createElement(P.a,{onSubmit:function(e){e.preventDefault();var t=o.email,a=o.password;s(function(e,t){return function(){var a=Object(f.a)(g.a.mark((function a(n){var r,l,c,o,u;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_LOGIN_REQUEST"}),r={headers:{"Content-Type":"application/json"}},a.next=5,v.a.post(b,{email:e,password:t},r);case 5:l=a.sent,c=l.data,o=c.user,u=c.token,n({type:"USER_LOGIN_SUCCESS",payload:{user:o,token:u}}),localStorage.setItem("userInfo",JSON.stringify(o)),localStorage.setItem("userToken",JSON.stringify(u)),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),n({type:"USER_LOGIN_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))}},r.a.createElement(P.a.Group,{controlId:"email"},r.a.createElement(P.a.Label,null,"Email Address"),r.a.createElement(P.a.Control,{type:"email",placeholder:"Enter Your Email",name:"email",value:o.email,onChange:function(e){return S(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"password"},r.a.createElement(P.a.Label,null,"Password"),r.a.createElement(P.a.Control,{type:"password",placeholder:"Enter Your Password",name:"password",value:o.password,onChange:function(e){return S(e)},required:!0,minLength:8})),r.a.createElement(k.a,{type:"submit",variant:"primary"},"Sign In")),r.a.createElement(G.a,{className:"py-3"},r.a.createElement(M.a,null,"New Customer?"," ",r.a.createElement(q.Link,{to:h?"/register/".concat(h):"/register"},"Register"))))},Ee=function(e){var t=e.history,a=e.location,l=Object(n.useState)({name:"",email:"",password:"",passwordConfirm:""}),c=Object(A.a)(l,2),o=c[0],u=c[1],s=Object(E.b)(),i=Object(E.c)((function(e){return e.registerUser})),m=i.loading,d=i.err,p=i.userInfo;console.log(m,d,p);var h=a.search?a.search.split("=")[1]:"/";Object(n.useEffect)((function(){p&&t.push(h)}),[t,p,h]);var S=function(e){var t=e.target,a=t.name,n=t.value;u(Object(ie.a)(Object(ie.a)({},o),{},Object(se.a)({},a,n)))};return r.a.createElement(me,null,r.a.createElement(ae.a,null,r.a.createElement("title",null,"AMH Store | Register")),r.a.createElement("h1",null,"Sign Up"),d?r.a.createElement(J,{variant:"danger"},d):null,m?r.a.createElement(W,null):null,r.a.createElement(P.a,{onSubmit:function(e){e.preventDefault();var t=o.name,a=o.email,n=o.password,r=o.passwordConfirm;s(function(e,t,a,n){return function(){var r=Object(f.a)(g.a.mark((function r(l){var c,o,u,s,i;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,l({type:"USER_REGISTER_REQUEST"}),c={"Content-Type":"application/json"},r.next=5,v.a.post(R,{name:e,email:t,password:a,passwordConfirm:n},c);case 5:o=r.sent,u=o.data,s=u.user,i=u.token,l({type:"USER_REGISTER_SUCCESS",payload:{user:s,token:i}}),l({type:"USER_LOGIN_SUCCESS",payload:{user:s,token:i}}),localStorage.setItem("userInfo",JSON.stringify(s)),localStorage.setItem("userToken",JSON.stringify(i)),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),l({type:"USER_REGISTER_FAIL",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 18:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e){return r.apply(this,arguments)}}()}(t,a,n,r))}},r.a.createElement(P.a.Group,{controlId:"name"},r.a.createElement(P.a.Label,null,"Name"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter Your Name",name:"name",value:o.name,onChange:function(e){return S(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"email"},r.a.createElement(P.a.Label,null,"Email Address"),r.a.createElement(P.a.Control,{type:"email",placeholder:"Enter Your Email",name:"email",value:o.email,onChange:function(e){return S(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"password"},r.a.createElement(P.a.Label,null,"Password"),r.a.createElement(P.a.Control,{type:"password",placeholder:"Enter Your Password",name:"password",value:o.password,onChange:function(e){return S(e)},required:!0,minLength:8})),r.a.createElement(P.a.Group,{controlId:"passwordConfirm"},r.a.createElement(P.a.Label,null,"Password Confirm"),r.a.createElement(P.a.Control,{type:"password",placeholder:"Enter Your Password Again",name:"passwordConfirm",value:o.passwordConfirm,onChange:function(e){return S(e)},required:!0,minLength:8})),r.a.createElement(k.a,{type:"submit",variant:"primary"},"Sign Up")),r.a.createElement(G.a,{className:"py-3"},r.a.createElement(M.a,null,"Already Signed Up?"," ",r.a.createElement(q.Link,{to:h?"/login/".concat(h):"/login"},"Login"))))},pe=function(e){return function(){var t=Object(f.a)(g.a.mark((function t(a,n){var r,l,c,o,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_DETAILS_REQUEST"}),r=n().loginUser.userToken,l="Bearer ".concat(r),c={headers:{Authorization:l}},t.next=7,v.a.get("".concat(C,"/").concat(e),c);case 7:o=t.sent,u=o.data.data,a({type:"ORDER_DETAILS_SUCCESS",payload:u}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"ORDER_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()},ge=function(e){var t=e.history,a=Object(E.b)(),l=Object(E.c)((function(e){return e.userDetails})),c=Object(E.c)((function(e){return e.loginUser.userToken})),o=l.loading,u=void 0===o||o,s=l.userInfo,i=void 0===s?{}:s,m=l.err,d=void 0===m?"":m,p=Object(E.c)((function(e){return e.userUpdateProfile})).success,h=Object(n.useState)({name:"",email:""}),S=Object(A.a)(h,2),y=S[0],_=S[1],b=function(e){var t=e.target,a=t.name,n=t.value;_(Object(ie.a)(Object(ie.a)({},y),{},Object(se.a)({},a,n)))};return Object(n.useEffect)((function(){if(!c)return t.push("/login");i.name?_({name:i.name,email:i.email}):(a(function(){var e=Object(f.a)(g.a.mark((function e(t,a){var n,r,l,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a().loginUser.userToken,r="Bearer ".concat(n),t({type:"USER_DETAILS_REQUEST"}),l={headers:{Authorization:r}},e.next=7,v.a.get(I,l);case 7:c=e.sent,o=c.data.user,t({type:"USER_DETAILS_SUCCESS",payload:o}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"USER_DETAILS_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}()),a(function(){var e=Object(f.a)(g.a.mark((function e(t,a){var n,r,l,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"MY_ORDERS_LIST_REQUEST"}),n=a().loginUser.userToken,r="Bearer ".concat(n),l={headers:{Authorization:r}},e.next=7,v.a.get(T,l);case 7:c=e.sent,o=c.data.data,t({type:"MY_ORDERS_LIST_SUCCESS",payload:o}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"MY_ORDERS_LIST_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}()))}),[a,t,c,i.email,i.name]),r.a.createElement(r.a.Fragment,null,p?r.a.createElement(J,{variant:"success"},"Profile updated "):null,u?r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null)):d?r.a.createElement(J,{variant:"danger"},d):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement(M.a,{md:3},r.a.createElement("h1",null,"User Profile"),r.a.createElement(P.a,{onSubmit:function(e){var t;e.preventDefault(),a((t=y,function(){var e=Object(f.a)(g.a.mark((function e(a,n){var r,l,c,o,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n().loginUser.userToken,l="Bearer ".concat(r),a({type:"USER_UPDATE_PROFILE_REQUEST"}),c={headers:{Authorization:l}},e.next=7,v.a.put(O,t,c);case 7:o=e.sent,u=o.data.data,a({type:"USER_UPDATE_PROFILE_SUCCESS",payload:u}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),a({type:"USER_UPDATE_PROFILE_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(P.a.Group,{controlId:"name"},r.a.createElement(P.a.Label,null,"Name"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter Your Name",name:"name",value:y.name,onChange:function(e){return b(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"email"},r.a.createElement(P.a.Label,null,"Email Address"),r.a.createElement(P.a.Control,{type:"email",placeholder:"Enter Your Email",name:"email",value:y.email,onChange:function(e){return b(e)},required:!0})),r.a.createElement(k.a,{type:"submit"},"Update"))),r.a.createElement(M.a,{md:9}))))},fe=function(e){var t=e.step1,a=e.step2,n=e.step3,l=e.step4;return r.a.createElement(i.a,{style:{display:"flex",flexWrap:"nowrap",width:"100%"}},r.a.createElement(i.a.Item,null,t?r.a.createElement(d.LinkContainer,{to:"/login"},r.a.createElement(i.a.Link,null,"Sign In")):r.a.createElement(i.a.Link,{disabled:!0},"Sign In")),r.a.createElement(i.a.Item,null,a?r.a.createElement(d.LinkContainer,{to:"/shipping"},r.a.createElement(i.a.Link,null,"Shipping")):r.a.createElement(i.a.Link,{disabled:!0},"Shipping")),r.a.createElement(i.a.Item,null,n?r.a.createElement(d.LinkContainer,{to:"/payment"},r.a.createElement(i.a.Link,null,"Payment")):r.a.createElement(i.a.Link,{disabled:!0},"Payment")),r.a.createElement(i.a.Item,null,l?r.a.createElement(d.LinkContainer,{to:"/placeorder"},r.a.createElement(i.a.Link,null,"Place Order")):r.a.createElement(i.a.Link,{disabled:!0},"Place Order")))},he=function(e){var t=e.history,a=Object(E.b)(),l=Object(E.c)((function(e){return e.cart})).shippingAddress,c=Object(E.c)((function(e){return e.loginUser})).userToken,o=Object(n.useState)({address:l.address||"",city:l.city||"",postalCode:l.postalCode||"",country:l.country||""}),u=Object(A.a)(o,2),s=u[0],i=u[1],m=function(e){var t=e.target,a=t.name,n=t.value;i(Object(ie.a)(Object(ie.a)({},s),{},Object(se.a)({},a,n)))};return c||t.push("/login"),r.a.createElement(me,null,r.a.createElement(fe,{step1:!0,step2:!0}),r.a.createElement("h1",null,"Shipping"),r.a.createElement(P.a,{onSubmit:function(e){var n;e.preventDefault(),a((n=s,function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CART_SAVE_SHIPPING_ADDRESS",payload:n}),localStorage.setItem("shippingAddress",JSON.stringify(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/payment")}},r.a.createElement(P.a.Group,{controlId:"address"},r.a.createElement(P.a.Label,null,"Address"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter Your Address",name:"address",value:s.address,onChange:function(e){return m(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"city"},r.a.createElement(P.a.Label,null,"City"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter Your city",name:"city",value:s.city,onChange:function(e){return m(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"postalCode"},r.a.createElement(P.a.Label,null,"Postal Code"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter Your postal code",name:"postalCode",value:s.postalCode,onChange:function(e){return m(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"country"},r.a.createElement(P.a.Label,null,"Country"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter Your Country",name:"country",value:s.country,onChange:function(e){return m(e)},required:!0})),r.a.createElement(k.a,{type:"submit",variant:"primary"},"Continue")))},ve=function(e){var t=e.history,a=Object(E.b)(),l=Object(E.c)((function(e){return e.cart})).shippingAddress,c=Object(E.c)((function(e){return e.loginUser})).userToken,o=Object(n.useState)("PayPal"),u=Object(A.a)(o,2),s=u[0],i=u[1];return c||t.push("/login"),l||t.push("/shipping"),r.a.createElement(me,null,r.a.createElement(fe,{step1:!0,step2:!0,step3:!0}),r.a.createElement("h1",null,"Payment Method"),r.a.createElement(P.a,{onSubmit:function(e){var n;e.preventDefault(),a((n=s,function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CART_SAVE_PAYMENT_METHOD",payload:n}),localStorage.setItem("paymentMethod",JSON.stringify(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/placeorder")}},r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,{as:"legend"},"Select Method"),r.a.createElement(M.a,null,r.a.createElement(P.a.Check,{type:"radio",label:"PayPal or credit card",id:"PayPal",name:"paymentMethod",vale:"PayPal",checked:!0,onChange:function(e){return i(e.target.value)}}))),r.a.createElement(k.a,{type:"submit",variant:"primary"},"Continue")))},Se=function(e){var t=e.history,a=Object(E.b)(),l=Object(E.c)((function(e){return e.cart})),c=Object(E.c)((function(e){return e.createOrder})),o=c.order,u=void 0===o?null:o,s=c.success,i=void 0!==s&&s,m=c.err,d=void 0===m?null:m,p=function(e){return Math.round(100*e)/100};l.itemsPrice=p(l.cartItems.reduce((function(e,t){return e+t.price*t.quantity}),0)),l.shippingPrice=l.itemsPrice>100?10:100,l.taxPrice=p(Number(.15*l.itemsPrice)),l.totalPrice=p(Number(l.itemsPrice)+Number(l.shippingPrice)+Number(l.taxPrice));return Object(n.useEffect)((function(){i&&t.push("/order/".concat(u._id,"?emptyCart=true"))}),[t,i]),r.a.createElement(r.a.Fragment,null,d?r.a.createElement(J,{variant:"danger"},d):null,r.a.createElement(fe,{step1:!0,step2:!0,step3:!0,step4:!0}),r.a.createElement(G.a,null,r.a.createElement(M.a,{md:8},r.a.createElement(re.a,{variant:"flush"},r.a.createElement(re.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Address : "),l.shippingAddress.address,",",l.shippingAddress.city,",",l.shippingAddress.postalCode,",",l.shippingAddress.country)),r.a.createElement(re.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("strong",null,"Method : "),l.paymentMethod),r.a.createElement(re.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===l.cartItems.length?r.a.createElement(J,null,"Your cart is empty"):r.a.createElement(re.a,{variant:"flush"},l.cartItems.map((function(e,t){return r.a.createElement(re.a.Item,{key:t},r.a.createElement(G.a,null,r.a.createElement(M.a,{md:1},r.a.createElement(ee.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(M.a,null,r.a.createElement(q.Link,{to:"/product/".concat(e.product)},e.name)),r.a.createElement(M.a,{md:4},e.quantity," x $",e.price," = $",e.quantity*e.price)))})))))),r.a.createElement(M.a,{md:4},r.a.createElement(Y.a,null,r.a.createElement(re.a,{variant:"flush"},r.a.createElement(re.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(re.a.Item,null,r.a.createElement(G.a,null,r.a.createElement(M.a,null,"Items Price"),r.a.createElement(M.a,null,"$",l.itemsPrice))),r.a.createElement(re.a.Item,null,r.a.createElement(G.a,null,r.a.createElement(M.a,null,"Shipping Price"),r.a.createElement(M.a,null,"$",l.shippingPrice))),r.a.createElement(re.a.Item,null,r.a.createElement(G.a,null,r.a.createElement(M.a,null,"Tax Price"),r.a.createElement(M.a,null,"$",l.taxPrice))),r.a.createElement(re.a.Item,null,r.a.createElement(G.a,null,r.a.createElement(M.a,null,"Total Price"),r.a.createElement(M.a,null,"$",l.totalPrice))),r.a.createElement(re.a.Item,null,r.a.createElement(k.a,{type:"button",className:"btn-block",disabled:0===l.cartItems.length,onClick:function(){a(function(e){return function(){var t=Object(f.a)(g.a.mark((function t(a,n){var r,l,c,o,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_CREATE_REQUEST"}),r=n().loginUser.userToken,l="Bearer ".concat(r),c={headers:{"Content-Type":"application/json",Authorization:l}},t.next=7,v.a.post(C,e,c);case 7:o=t.sent,u=o.data.data,a({type:"ORDER_CREATE_SUCCESS",payload:u}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"ORDER_CREATE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}({orderItems:l.cartItems,shippingAddress:l.shippingAddress,paymentMethod:l.paymentMethod,itemsPrice:l.itemsPrice,shippingPrice:l.shippingPrice,taxPrice:l.taxPrice,totalPrice:l.totalPrice})),a((function(e){e({type:"EMPTY_CARD"}),localStorage.removeItem("cartItems"),localStorage.removeItem("paymentMethod"),localStorage.removeItem("shippingAddress")}))}},"Place Order")))))))},ye=a(143),_e=function(e){var t=e.match,a=e.history,l=Object(E.b)(),c=t.params.pageNumber,o=Object(E.c)((function(e){return e.usersList})),u=o.users,s=void 0===u?[]:u,i=o.loading,m=void 0===i||i,p=o.err,h=void 0===p?"":p,S=o.page,_=o.pages,b=Object(E.c)((function(e){return e.loginUser})).userInfo,R=void 0===b?{}:b,I=Object(E.c)((function(e){return e.deleteUser})),O=I.success,C=I.user,T=I.loading,U=I.err,D=void 0===U?"":U,A=function(e){window.confirm("Are You Sure !")&&l(function(e){return function(){var t=Object(f.a)(g.a.mark((function t(a,n){var r,l,c,o,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().loginUser.userToken,l="Bearer ".concat(r),a({type:"USERS_DELETE_REQUEST"}),c={headers:{Authorization:l}},t.next=7,v.a.delete("".concat(y,"/").concat(e),c);case 7:o=t.sent,u=o.data.data,a({type:"USERS_DELETE_SUCCESS",payload:u}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"USERS_DELETE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(n.useEffect)((function(){O&&s.length-1<1&&c>1?(a.push("/admin/users_list/".concat(c-1)),l(L(c-1))):l(L(c))}),[l,a,c,O]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Users"),T?r.a.createElement(W,null):O?r.a.createElement(J,{variant:"success"},"User ",r.a.createElement("a",{href:"mailto:".concat(C.email)},C.email," "),"deleted successfully"):D?r.a.createElement(J,{variant:"danger"},D):null,m?r.a.createElement(W,null):h?r.a.createElement(J,{variant:"danger"},h):r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"ROLE"),r.a.createElement("th",null,"Control"))),r.a.createElement("tbody",null,s.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)," "),r.a.createElement("td",{style:"admin"===e.role?{color:"green",fontWeight:"bold",textTransform:"uppercase"}:null},e.role),R.email!==e.email?r.a.createElement("td",null,r.a.createElement(d.LinkContainer,{to:"/admin/user_edit/".concat(e._id)},r.a.createElement(k.a,{variant:"light",className:"btn-sm"},r.a.createElement("span",{className:"fas fa-edit"}))),r.a.createElement(k.a,{variant:"danger",className:"btn-sm",onClick:function(){return A(e._id)}},r.a.createElement("span",{className:"fas fa-trash"}))):r.a.createElement("td",null,"Me"))})))),r.a.createElement(X,{page:S,pages:_,isAdmin:!0,link:"users_list"})))},be=function(e){var t=e.history,a=e.match,l=Object(E.b)(),c=a.params.pageNumber,o=Object(E.c)((function(e){return e.loginUser})).userInfo,u=void 0===o?{}:o,s=Object(E.c)((function(e){return e.productList})),i=s.products,m=void 0===i?[]:i,p=s.loading,h=void 0===p||p,S=s.err,y=void 0===S?"":S,b=s.page,R=s.pages,I=Object(E.c)((function(e){return e.createProduct})),O=I.loading,C=I.product,T=I.success,U=I.err,D=void 0===U?"":U,L=Object(E.c)((function(e){return e.deleteProduct})),A=L.success,P=L.product,w=L.loading,x=L.err,N=void 0===x?"":x,F={name:"Sample Name",price:0,user:u._id,image:"/images/sample.png",brand:"Sample Brand",category:"Sample Category",countInStock:0,numReviews:0,description:"Sample description"},Y=function(e){window.confirm("Are You Sure !")&&(l(function(e){return function(){var t=Object(f.a)(g.a.mark((function t(a,n){var r,l,c,o,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_PRODUCT_REQUEST"}),r=n().loginUser.userToken,l="Bearer ".concat(r),c={headers:{Authorization:l}},t.next=7,v.a.delete("".concat(_,"/").concat(e),c);case 7:o=t.sent,u=o.data,a({type:"DELETE_PRODUCT_SUCCESS",payload:u.data}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"DELETE_PRODUCT_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}(e)),m.length-1<1&&c>1&&t.push("/admin/products_list/".concat(c-1)),setTimeout((function(){l({type:"DELETE_PRODUCT_RESET"})}),2e3))};return Object(n.useEffect)((function(){l({type:"CREATE_PRODUCT_REST"}),u&&"admin"===u.role?l(j(c)):t.push("/login"),u&&"admin"===u.role&&T&&t.push("/admin/products/".concat(C._id,"/edit"))}),[C,l,t,T,u,A,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement(M.a,null,r.a.createElement("h1",null,"Products")),r.a.createElement(M.a,{className:"text-right"},r.a.createElement(k.a,{onClick:function(){var e;l((e=F,function(){var t=Object(f.a)(g.a.mark((function t(a,n){var r,l,c,o,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CREATE_PRODUCT_REQUEST"}),r=n().loginUser.userToken,l="Bearer ".concat(r),c={headers:{Authorization:l}},t.next=7,v.a.post("".concat(_),e,c);case 7:o=t.sent,u=o.data,a({type:"CREATE_PRODUCT_SUCCESS",payload:u.data}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"CREATE_PRODUCT_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()))},className:"my-3"},r.a.createElement("span",{className:"fas fa-plus"})," Create Product"))),w?r.a.createElement(W,null):A?r.a.createElement(J,{variant:"success"},"Product ",P._id," deleted successfully"):N?r.a.createElement(J,{variant:"danger"},N):null,O?r.a.createElement(W,null):D?r.a.createElement(J,{variant:"danger"},D):null,h?r.a.createElement(W,null):y?r.a.createElement(J,{variant:"danger"},y):"object"===typeof m&&m.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Picture"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"BRAND"),r.a.createElement("th",null,"Reviews"),r.a.createElement("th",null,"Edit"))),r.a.createElement("tbody",null,"object"===typeof m&&m.length>0&&m.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",{md:1},r.a.createElement(ee.a,{width:100,rounded:!0,src:e.image,fluid:!0,md:1})),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,e.brand),r.a.createElement("td",null,e.numReviews," reviews"),r.a.createElement("td",null,r.a.createElement(d.LinkContainer,{to:"/admin/products/".concat(e._id,"/edit")},r.a.createElement(k.a,{variant:"light",className:"btn-sm"},r.a.createElement("span",{className:"fas fa-edit"}))),r.a.createElement(k.a,{variant:"danger",className:"btn-sm",onClick:function(){return Y(e._id)}},r.a.createElement("span",{className:"fas fa-trash"}))))})))),R>1&&r.a.createElement(X,{page:b,pages:R,isAdmin:!0})):r.a.createElement(J,null,"No products yet"))},Re=function(e){var t=e.history,a=e.match,l=Object(E.b)(),c=a.params.pageNumber,o=Object(E.c)((function(e){return e.loginUser})).userInfo,u=void 0===o?{}:o,s=Object(E.c)((function(e){return e.getAllOrders})),i=s.orders,m=void 0===i?[]:i,p=s.loading,h=void 0===p||p,S=s.err,y=void 0===S?"":S,_=s.page,b=s.pages;return Object(n.useEffect)((function(){u&&"admin"===u.role?l(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(){var t=Object(f.a)(g.a.mark((function t(a,n){var r,l,c,o,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDERS_LIST_REQUEST"}),r=n().loginUser.userToken,l="Bearer ".concat(r),c={headers:{Authorization:l}},t.next=7,v.a.get("".concat(C,"?pageNumber=").concat(e),c);case 7:o=t.sent,u=o.data,a({type:"ORDERS_LIST_SUCCESS",payload:u}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"ORDERS_LIST_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}(c)):t.push("/login")}),[l,t,c,u]),r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement(M.a,null,r.a.createElement("h1",null,"Orders"))),h?r.a.createElement(W,null):y?r.a.createElement(J,{variant:"danger"},y):"object"===typeof m&&m.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"USER"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL Price"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null,"Details"))),r.a.createElement("tbody",null,"object"===typeof m&&m.length>0&&m.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.user),r.a.createElement("td",null,e.createdAt),r.a.createElement("td",null,"$",e.totalPrice),r.a.createElement("td",null,e.isPaid?r.a.createElement(J,{variant:"success"},"Yes"):r.a.createElement(J,{variant:"danger"},"No")),r.a.createElement("td",null,e.isDelivered?r.a.createElement(J,{variant:"success"},"Yes"):r.a.createElement(J,{variant:"danger"},"No")),r.a.createElement("td",null,r.a.createElement(d.LinkContainer,{to:"/order/".concat(e._id)},r.a.createElement(k.a,{variant:"light",className:"btn-sm"},r.a.createElement("span",{className:"fas fa-hand-paper"})))))})))),r.a.createElement(X,{page:_,pages:b,isAdmin:!0,link:"orders_list"})):r.a.createElement(J,null,"No Orders yet"))},Ie=function(e){e.history;var t=e.match.params.id,a=Object(E.b)(),l=Object(E.c)((function(e){return e.getUser})),c=l.loading,o=void 0===c||c,u=l.user,s=void 0===u?{_id:""}:u,i=l.err,m=void 0===i?"":i,d=Object(E.c)((function(e){return e.updateUser})),p=d.success,h=d.loading,S=d.err,_=void 0===S?"":S,b=Object(n.useState)({name:"",email:"",role:""}),R=Object(A.a)(b,2),I=R[0],O=R[1],C=function(e){var t=e.target,a=t.name,n=t.value;O(Object(ie.a)(Object(ie.a)({},I),{},Object(se.a)({},a,n)))};return Object(n.useEffect)((function(){var e;s._id&&s._id===t?O({name:s.name,email:s.email,role:s.role}):a((e=t,function(){var t=Object(f.a)(g.a.mark((function t(a,n){var r,l,c,o,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().loginUser.userToken,l="Bearer ".concat(r),a({type:"GET_USER_BY_ID_REQUEST"}),c={headers:{Authorization:l}},t.next=7,v.a.get("".concat(y,"/").concat(e),c);case 7:o=t.sent,u=o.data.data,a({type:"GET_USER_BY_ID_SUCCESS",payload:u}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"GET_USER_BY_ID_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()))}),[a,s._id,s.email,s.name,s.role,t]),r.a.createElement(r.a.Fragment,null,p?r.a.createElement(J,{variant:"success"},"Profile updated "):null,_?r.a.createElement(J,{variant:"danger"},_):null,h?r.a.createElement(W,null):null,o?r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null)):m?r.a.createElement(J,{variant:"danger"},m):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement(M.a,{md:3},r.a.createElement("h1",null,"Update User"),r.a.createElement(P.a,{onSubmit:function(e){var n,r;e.preventDefault(),a((n=t,r=I,function(){var e=Object(f.a)(g.a.mark((function e(t,a){var l,c,o,u,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=a().loginUser.userToken,c="Bearer ".concat(l),t({type:"UPDATE_USER_BY_ID_REQUEST"}),o={headers:{Authorization:c}},e.next=7,v.a.patch("".concat(y,"/").concat(n),r,o);case 7:u=e.sent,s=u.data.data,t({type:"UPDATE_USER_BY_ID_SUCCESS",payload:s}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"UPDATE_USER_BY_ID_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(P.a.Group,{controlId:"name"},r.a.createElement(P.a.Label,null,"Name"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter User Name",name:"name",value:I.name,onChange:function(e){return C(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"email"},r.a.createElement(P.a.Label,null,"Email Address"),r.a.createElement(P.a.Control,{type:"email",placeholder:"Enter User Email",name:"email",value:I.email,onChange:function(e){return C(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"role"},r.a.createElement(P.a.Label,null,"User Role"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter User Role",name:"role",value:I.role,onChange:function(e){return C(e)},required:!0})),r.a.createElement(k.a,{type:"submit"},"Update"))),r.a.createElement(M.a,{md:9}))))},Oe=function(e){var t=e.history,a=e.match.params.id,l=Object(E.b)(),c=Object(E.c)((function(e){return e.loginUser})).userInfo,o=void 0===c?{}:c,u=Object(E.c)((function(e){return e.productDetails})),s=u.loading,i=void 0===s||s,m=u.product,d=void 0===m?{_id:""}:m,p=u.err,h=void 0===p?"":p,S=Object(E.c)((function(e){return e.updateProduct})),y=S.success,b=S.loading,R=S.err,I=void 0===R?"":R,O=Object(n.useState)({name:"",price:0,image:"",brand:"",category:"",countInStock:"",description:""}),C=Object(A.a)(O,2),T=C[0],D=C[1],L=Object(n.useState)(!1),j=Object(A.a)(L,2),x=j[0],N=j[1],F=function(e){var t=e.target,a=t.name,n=t.value;D(Object(ie.a)(Object(ie.a)({},T),{},Object(se.a)({},a,n)))},Y=function(){var e=Object(f.a)(g.a.mark((function e(t){var a,n,r,l,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),N(!0),e.prev=4,r={headers:{"Content-Type":"multipart/form-data"}},e.next=8,v.a.post(U,n,r);case 8:l=e.sent,c=l.data,D(Object(ie.a)(Object(ie.a)({},T),{},{image:c.path})),N(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0),N(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return o&&"admin"===o.role||t.push("/login"),d._id&&d._id===a?D({name:d.name,price:d.price,image:d.image,brand:d.brand,category:d.category,countInStock:d.countInStock,description:d.description}):l(w(a)),function(){l({type:"UPDATE_PRODUCT_REST"})}}),[l,d._id,a]),r.a.createElement(r.a.Fragment,null,y?r.a.createElement(J,{variant:"success"},"Product updated "):null,I?r.a.createElement(J,{variant:"danger"},I):null,b?r.a.createElement(W,null):null,i?r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null)):h?r.a.createElement(J,{variant:"danger"},h):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement(M.a,{md:12},r.a.createElement("h1",null,"Update Product"),r.a.createElement(P.a,{onSubmit:function(e){var t,n;e.preventDefault(),l((t=a,n=T,function(){var e=Object(f.a)(g.a.mark((function e(a,r){var l,c,o,u,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=r().loginUser.userToken,c="Bearer ".concat(l),a({type:"UPDATE_PRODUCT_REQUEST"}),o={headers:{Authorization:c}},e.next=7,v.a.patch("".concat(_,"/").concat(t),n,o);case 7:u=e.sent,s=u.data.data,a({type:"UPDATE_PRODUCT_SUCCESS",payload:s}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),a({type:"UPDATE_PRODUCT_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(P.a.Group,{controlId:"name"},r.a.createElement(P.a.Label,null,"Name"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter Product Name",name:"name",value:T.name,onChange:function(e){return F(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"price"},r.a.createElement(P.a.Label,null,"Price"),r.a.createElement(P.a.Control,{type:"number",placeholder:"Enter Product Price",name:"price",value:T.price,onChange:function(e){return F(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"image"},r.a.createElement(P.a.Label,null,"Image"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter Product Image Url",name:"image",value:T.image,onChange:function(e){return F(e)},required:!0}),r.a.createElement(P.a.File,{id:"image-file",label:"Choose file",custom:!0,onChange:Y}),x&&r.a.createElement(W,null)),r.a.createElement(P.a.Group,{controlId:"brand"},r.a.createElement(P.a.Label,null,"Brand"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter Product Brand",name:"brand",value:T.brand,onChange:function(e){return F(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"category"},r.a.createElement(P.a.Label,null,"Category"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter Product Category",name:"category",value:T.category,onChange:function(e){return F(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"countInStock"},r.a.createElement(P.a.Label,null,"Count In Stock"),r.a.createElement(P.a.Control,{type:"number",placeholder:"Enter Product Count In Stock",name:"countInStock",value:T.countInStock,onChange:function(e){return F(e)},required:!0})),r.a.createElement(P.a.Group,{controlId:"description"},r.a.createElement(P.a.Label,null,"Description"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter Product Description",name:"description",value:T.description,onChange:function(e){return F(e)},required:!0})),r.a.createElement(k.a,{type:"submit"},"Update"))))))},Ce=a(81),Te=a.n(Ce),Ue=function(e){var t=e.location,a=e.match,l=Object(E.b)(),c=a.params.id,o=Object(E.c)((function(e){return e.getOrderDetails})),u=o.order,s=void 0===u?{}:u,i=o.loading,m=void 0===i||i,d=o.err,p=void 0===d?"":d,h=Object(E.c)((function(e){return e.loginUser})).userInfo,S=void 0===h?{}:h;return Object(n.useEffect)((function(){l(pe(c));var e=Te.a.parse(t.search);t.search&&"true"===e.emptyCart&&l((function(e){e({type:"REMOVE_CREATE_ORDER"})}))}),[l,c,t]),r.a.createElement(r.a.Fragment,null,m?r.a.createElement(W,null):p?r.a.createElement(J,{variant:"danger"},p):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Order ",s._id),r.a.createElement(G.a,null,r.a.createElement(M.a,{md:8},r.a.createElement(re.a,{variant:"flush"},r.a.createElement(re.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("strong",null,"Name : "),s.user&&s.user.name||"DELETED USER",r.a.createElement("br",null),r.a.createElement("strong",null,"Email : "),r.a.createElement("a",{href:"mailto:".concat(s.user&&s.user.email||"USERDeleted")},s.user&&s.user.email),r.a.createElement("p",null,r.a.createElement("strong",null,"Address : "),s.shippingAddress.address,",",s.shippingAddress.city,",",s.shippingAddress.postalCode,",",s.shippingAddress.country),s.isDelivered?r.a.createElement(J,{variant:"success"},"Delivered on ",s.deliveredAt):r.a.createElement(J,{variant:"danger"}," Not Delivered Yet")),r.a.createElement(re.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("p",null,r.a.createElement("strong",null,"Method : "),s.paymentMethod),s.isPaid?r.a.createElement(J,{variant:"success"},"Paid on ",s.paidAt):r.a.createElement(J,{variant:"danger"}," Not Paid Yet")),r.a.createElement(re.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===s.orderItems.length?r.a.createElement(J,null,"Your cart is empty"):r.a.createElement(re.a,{variant:"flush"},s.orderItems.map((function(e,t){return r.a.createElement(re.a.Item,{key:t},r.a.createElement(G.a,null,r.a.createElement(M.a,{md:1},r.a.createElement(ee.a,{src:e.product&&e.product.image,alt:e.product&&e.product.name,fluid:!0,rounded:!0})),r.a.createElement(M.a,null,r.a.createElement(q.Link,{to:"/product/".concat(e.product&&e.product._id)},e.product&&e.product.name)),r.a.createElement(M.a,{md:4},e.quantity," x $",e.product&&e.product.price," = $",e.quantity*(e.product&&e.product.price))))})))))),r.a.createElement(M.a,{md:4},r.a.createElement(Y.a,null,r.a.createElement(re.a,{variant:"flush"},r.a.createElement(re.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(re.a.Item,null,r.a.createElement(G.a,null,r.a.createElement(M.a,null,"Items Price"),r.a.createElement(M.a,null,"$",s.itemsPrice))),r.a.createElement(re.a.Item,null,r.a.createElement(G.a,null,r.a.createElement(M.a,null,"Shipping Price"),r.a.createElement(M.a,null,"$",s.shippingPrice))),r.a.createElement(re.a.Item,null,r.a.createElement(G.a,null,r.a.createElement(M.a,null,"Tax Price"),r.a.createElement(M.a,null,"$",s.taxPrice))),r.a.createElement(re.a.Item,null,r.a.createElement(G.a,null,r.a.createElement(M.a,null,"Total Price"),r.a.createElement(M.a,null,"$",s.totalPrice))),S&&"admin"===S.role&&!s.isDelivered&&r.a.createElement(re.a.Item,null,r.a.createElement(G.a,{className:"text-center"},r.a.createElement(k.a,{onClick:function(){l(function(e){return function(){var t=Object(f.a)(g.a.mark((function t(a,n){var r,l,c,o,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDERS_DELIVER_REQUEST"}),r=n().loginUser.userToken,l="Bearer ".concat(r),c={headers:{"Content-Type":"application/json",Authorization:l}},t.next=7,v.a.get("".concat(C,"/").concat(e,"/deliver"),c);case 7:o=t.sent,u=o.data.data,a({type:"ORDERS_DELIVER_SUCCESS",payload:u}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"ORDERS_DELIVER_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}(s._id)),l(pe(c))},className:"btn-block"},"Make Delivered ?")))))))))},De=function(){return r.a.createElement(s.a,{className:"text-center footer"},"Created By Amr M Hassan ",r.a.createElement("br",null),"CopyRights \xa9 2020")},Le=function(e){return r.a.createElement(q.BrowserRouter,null,r.a.createElement(F,null),r.a.createElement(s.a,null,r.a.createElement("main",{className:"p-3"},r.a.createElement(o.d,{path:"/profile",component:ge}),r.a.createElement(o.d,{path:"/login",component:de}),r.a.createElement(o.d,{path:"/shipping",component:he}),r.a.createElement(o.d,{path:"/payment",component:ve}),r.a.createElement(o.d,{path:"/placeorder",component:Se}),r.a.createElement(o.d,{path:"/admin/users_list/:pageNumber",component:_e}),r.a.createElement(o.d,{path:"/admin/products_list/:pageNumber",component:be}),r.a.createElement(o.d,{path:"/admin/orders_list/:pageNumber",component:Re}),r.a.createElement(o.d,{path:"/admin/user_edit/:id",component:Ie}),r.a.createElement(o.d,{path:"/admin/products/:id/edit",component:Oe}),r.a.createElement(o.d,{path:"/order/:id",component:Ue}),r.a.createElement(o.d,{path:"/register",component:Ee}),r.a.createElement(o.d,{path:"/product/:id",component:ce}),r.a.createElement(o.d,{path:"/cart/:id?",component:ue}),r.a.createElement(o.d,{path:"/search/:keyword",component:ne,exact:!0}),r.a.createElement(o.d,{path:"/page/:pageNumber",component:ne,exact:!0}),r.a.createElement(o.d,{path:"/search/:keyword/page/:pageNumber",component:ne,exact:!0}),r.a.createElement(o.d,{path:"/",component:ne,exact:!0}))),r.a.createElement(De,null))},Ae=a(35),Pe=a(82),ke=a(83),je=Object(Ae.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return Object(ie.a)(Object(ie.a)({},e),{},{loading:!0,products:[]});case"PRODUCT_LIST_SUCCESS":return Object(ie.a)(Object(ie.a)({},e),{},{loading:!1,products:t.payload.data,pages:t.payload.pages,page:t.payload.page});case"PRODUCT_LIST_FAIL":return Object(ie.a)(Object(ie.a)({},e),{},{loading:!1,err:t.payload});case"SET_KEYWORD":return Object(ie.a)(Object(ie.a)({},e),{},{keyword:t.payload});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return{loading:!0};case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAIL":return{loading:!1,err:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var a=Object(ie.a)({},t.payload),n=e.cartItems.find((function(e){return e.product===a.product}));return n?Object(ie.a)(Object(ie.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===a.product?a:e}))}):Object(ie.a)(Object(ie.a)({},e),{},{cartItems:[].concat(Object(H.a)(e.cartItems),[a])});case"CART_REMOVE_ITEM":return Object(ie.a)(Object(ie.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case"CART_SAVE_SHIPPING_ADDRESS":return Object(ie.a)(Object(ie.a)({},e),{},{shippingAddress:t.payload});case"CART_SAVE_PAYMENT_METHOD":return Object(ie.a)(Object(ie.a)({},e),{},{paymentMethod:t.payload});case"EMPTY_CARD":return console.log("REMOVING CARD"),{cartItems:[],shippingAddress:{}};default:return e}},loginUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:t.payload.user,userToken:t.payload.token};case"USER_LOGIN_FAIL":return{loading:!1,err:t.payload};case"USER_LOGOUT":return{};default:return e}},registerUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload.user,userToken:t.payload.token};case"USER_REGISTER_FAIL":return{loading:!1,err:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return{loading:!0};case"USER_DETAILS_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_DETAILS_FAIL":return{loading:!1,err:t.payload};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_PROFILE_REQUEST":return{loading:!0};case"USER_UPDATE_PROFILE_SUCCESS":return{loading:!1,success:!0,userInfo:t.payload};case"USER_UPDATE_PROFILE_FAIL":return{loading:!1,err:t.payload};default:return e}},createOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_CREATE_REQUEST":return{loading:!0};case"ORDER_CREATE_SUCCESS":return{loading:!1,success:!0,order:t.payload};case"ORDER_CREATE_FAIL":return{loading:!1,err:t.payload};case"REMOVE_CREATE_ORDER":return{};default:return e}},getOrderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST":return{loading:!0};case"ORDER_DETAILS_SUCCESS":return{loading:!1,order:t.payload};case"ORDER_DETAILS_FAIL":return{loading:!1,err:t.payload};default:return e}},usersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_LIST_REQUEST":return{loading:!0};case"USERS_LIST_SUCCESS":return{loading:!1,users:t.payload.data,page:t.payload.page,pages:t.payload.pages};case"USERS_LIST_FAIL":return{loading:!1,err:t.payload};default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MY_ORDERS_LIST_REQUEST":return{loading:!0};case"MY_ORDERS_LIST_SUCCESS":return{loading:!1,orders:t.payload};case"MY_ORDERS_LIST_FAIL":return{loading:!1,err:t.payload};default:return e}},deleteUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_DELETE_REQUEST":return{loading:!0};case"USERS_DELETE_SUCCESS":return{success:!0,loading:!1,user:t.payload};case"USERS_DELETE_FAIL":return{loading:!1,err:t.payload};default:return e}},updateUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER_BY_ID_REQUEST":return{loading:!0};case"UPDATE_USER_BY_ID_SUCCESS":return{loading:!1,success:!0,user:t.payload};case"UPDATE_USER_BY_ID_FAIL":return{loading:!1,err:t.payload};default:return e}},getUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_BY_ID_REQUEST":return{loading:!0};case"GET_USER_BY_ID_SUCCESS":return{loading:!1,user:t.payload};case"GET_USER_BY_ID_FAIL":return{loading:!1,err:t.payload};default:return e}},deleteProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_PRODUCT_REQUEST":return{loading:!0};case"DELETE_PRODUCT_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"DELETE_PRODUCT_FAIL":return{loading:!1,err:t.payload};case"DELETE_PRODUCT_RESET":return{};default:return e}},createProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PRODUCT_REQUEST":return{loading:!0};case"CREATE_PRODUCT_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"CREATE_PRODUCT_FAIL":return{loading:!1,err:t.payload};case"CREATE_PRODUCT_REST":return{};default:return e}},updateProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PRODUCT_REQUEST":return{loading:!0};case"UPDATE_PRODUCT_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"UPDATE_PRODUCT_FAIL":return{loading:!1,err:t.payload};case"UPDATE_PRODUCT_REST":return{};default:return e}},getAllOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDERS_LIST_REQUEST":return{loading:!0};case"ORDERS_LIST_SUCCESS":return{loading:!1,orders:t.payload.data,page:t.payload.page,pages:t.payload.pages};case"ORDERS_LIST_FAIL":return{loading:!1,err:t.payload};default:return e}},deliverOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDERS_DELIVER_REQUEST":return{loading:!0};case"ORDERS_DELIVER_SUCCESS":return{loading:!1,order:t.payload};case"ORDERS_DELIVER_FAIL":return{loading:!1,err:t.payload};default:return e}},productCreateReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REVIEW_REQUEST":return{loading:!0};case"PRODUCT_CREATE_REVIEW_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_CREATE_REVIEW_FAIL":return{loading:!1,err:t.payload};case"PRODUCT_CREATE_REVIEW_REST":return{};default:return e}},getReviewsForProduct:function(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REVIEW_GET_REQUEST":return{loading:!0};case"REVIEW_GET_SUCCESS":return{loading:!1,reviews:e.payload};case"REVIEW_GET_FAIL":return{loading:!1,err:e.payload};default:return{}}},topProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOP_PRODUCTS_REQUEST":return{loading:!0};case"TOP_PRODUCTS_SUCCESS":return{loading:!1,products:t.payload};case"TOP_PRODUCTS_FAIL":return{loading:!1,err:t.payload};default:return e}}}),we=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],xe=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Ne=localStorage.getItem("userToken")?JSON.parse(localStorage.getItem("userToken")):null,Fe={productList:[],cart:{cartItems:we,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):{}},loginUser:{userInfo:xe,userToken:Ne}},Ge=[Pe.a],Me=Object(Ae.createStore)(je,Fe,Object(ke.composeWithDevTools)(Ae.applyMiddleware.apply(void 0,Ge)));a(128),a(129),a(130),a(131),a(132),a(133);c.a.render(r.a.createElement(E.a,{store:Me},r.a.createElement(Le,null)),document.getElementById("root"))},84:function(e,t,a){e.exports=a(134)}},[[84,1,2]]]);
//# sourceMappingURL=main.302e8149.chunk.js.map